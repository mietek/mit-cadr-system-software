;	** (c) Copyright 1980 Massachusetts Institute of Technology **
;LOADS LVL 1 AND 2 MAPS TO MAP 32K ADR SPACE STRAIGHT
; (32K BEING A RANDOM NUMBER, WOULD WORK FOR UP TO 128K)
(DEFUN CL-LOAD-STRAIGHT-MAP NIL 
  (PROG (ADR DATA)
	(CNSIBF)
	(SETQ DATA 0)
	(SETQ ADR RAM1O)
   L1	(COND ((NOT (< DATA 40))
		(GO L2)))
	(CNSWDB ADR 0 0 DATA)
	(SETQ ADR (1+ ADR))
	(SETQ DATA (1+ DATA))
	(GO L1)
   L2	(SETQ ADR RAM2O)
	(SETQ DATA 3000000)
   L3	(COND ((NOT (< DATA 3000400))
		(GO L4)))
	(CNSWDB ADR 0 (LOGLDB 2020 DATA) (LOGLDB 0020 DATA))
	(SETQ DATA (1+ DATA))
	(SETQ ADR (1+ ADR))
	(GO L3)
   L4	(CNSACT)
	(CNSWAT)
	(RETURN T)))

;PREPARE FOR DUMPING
(DEFUN PDUMP ()
  (CNSUSP)
  (SUSPEND '|:PDUMP LISPM1;TS CC|)
  (CNSINI)
  (CNSIBF)
  'READY)
