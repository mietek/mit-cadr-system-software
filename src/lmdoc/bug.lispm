Date: 16 OCT 1980 1443-EDT
From: ECC at MIT-AI (Eugene C. Ciccarelli)
Subject:  Dired
To: (BUG LISPM) at MIT-AI

In system 46.1, with microcode 692, on LISP Machine One:
When it should be deleting file FOO :EJ, it complains that it
cannot because FOO EJ (no colon) doesn't exist.


Date: 16 OCT 1980 0407-EDT
From: JCW at MIT-AI (James C. Williams)
To: (BUG LISPM) at MIT-AI

In system 46.1, with microcode 692, on LISP Machine Seven:

<positive-argument>M-Q in the editor does not seem to work very well at
all!  It does not make all of the lines of the paragraph be the same
length (several of them will in general be off by one in either
direction -- it is not stable, reapplying it will generate new
randomness).  Also, it snarfs a space between a single character word
and the following word (e.g. "a foo" ==> "afoo").

Chuck


RWG@MIT-MC 10/15/80 08:44:25
To: (BUG lispm) at MIT-AI
here is one that i won't apologize for, except for it's being about six years
(too?) late.  lispms perpetuate goddamn losing fortran divide!  (sign remain-
der = sign dividend.)  not only is this the most useless, therefore
requiring the user to write his own, but it is also the glitchiest,
thus maximizing the difficulty for said user.  in decreasing order of useful-
ness, integer divides are:  divide for nonnegative remainder, sign remainder
= sign diviSOR, divide for nearest integer, fortran divide, divide for prime
remainder nearest xor of dividend with complement-obverse of quotient.

gls's paper warning of compiling divide-by-2 into ASH had it backwards.
ASH is a win, it's divide that loses!

RWG@MIT-MC 10/15/80 07:32:25
To: (BUG lispm) at MIT-AI
(please don't take these mumblings too seriously, at least until i've had a
few weeks to catch up with the system.)

Trying hack h;worm to run in ZTOP, i lose because terminal-io gets set to a
stream object that doesn't grok :inside-size or cursor lists.

worse, i do (tv:prepare-sheet (terminal-io) (tv:%draw-char ... terminal-io)).

streams to windows ought to provide uniform access to said window?

Date: 15 OCT 1980 0658-EDT
From: JCW at MIT-AI (James C. Williams)
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Five:

A case where "'" is not the same as "QUOTE":

In a nested backquote (`), quote-comma-quote-comma foo (',',foo) behaves just like
foo alone (foo), which is quite different from (QUOTE ,',foo).

jcw


MOON@MIT-MC 10/14/80 18:55:22 Re: Control characters
To: DICK at MIT-AI
CC: ALAN at MIT-MC, (BUG LISPM) at MIT-AI
    "It certainly would be nice if there was some clean
    way of generating he basic ascii character codes that was compatable between
    the two machines."
That is precisely what the #/, #\, and #^ syntaxes are.  Your problem
is mainly that Lisp machines do not support control characters in files;
only printing characters can be stored in files.  However, this is no
different from Maclisp really.  If you read in a file with an alpha in it
(which on some terminals displays as ^B) you might think that was a control-B
but it sure doesn't put you into a breakpoint.  Control and meta characters
only exist in the keyboard, not in files.

Could you send me mail as to what exactly you're trying to do?  I'll send
you back an explanation of the right way to do it.

Date: 14 October 1980 17:45-EDT
From: Gerald R. Barber <JERRYB at MIT-AI>
Sender: JERRY0 at MIT-AI
To: MMCM at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 14 October 1980 16:11-EDT
    From: Mike McMahon <MMcM at MIT-AI>
    Sender: MMcM at CADR6 at MIT-AI
    To:   JERRYB
    cc:   BUG-LISPM

        Date: 14 OCT 1980 1106-EDT
        From: JerryB at MIT-AI (Gerald R. Barber)

          5.  It won't save the mail file it has gobbled.  The scenario that led to problem 2
        was that it read in all my mail, including my babyl file, deleted my mail file and rewrote
        my babyl file with only its old contents.  So now it has all my mail in its guts and
        any attempts to save the mail result in a "no changes have been made" message which
        isn't the case.
    I find that very difficult to believe.  In particular you have the order of events wrong: your
    new mail file is not deleted until AFTER the updated BABYL file has been rewritten.  Can you
    please describe the circumstances better?  It should have renamed your MAIL file to _ZMAIL,
    which would be left around if it crashed before finishing.
Some things that might be relevant that I discovered since I sent my message:
Yes it did rename my mail file and all but the background zmail process was
the one that got the "trying to read on a closed channel" error.  It was
trying to read _ZMAIL and was about half way through when the error occured.

          3.  There is a particular message in my mail--which I can't get to because of the lost 
        mail--that causes the computation of the summary line to bomb out with wrong args to =.
    From inside what function?
        
I am not really sure but I think it was in a some function like COMPUTE-SUMMARY-LINE.

          4.  Past a particular point in the mail file any attempts to continue cause LOCK to
        appear in the wholine and reseting the process in the only way out.
    Can you please be more specific?
As it turned out this was as far as the background process got.  It seemed to
be waiting on it.

My current babyl file, JERRYB;JERRYB BABYL, causes zmail to die, it reads in
about 75% of it and quits with NIL in the wholine.  

As far as I know I am not using anything fancy.

Date: 14 October 1980 16:11-EDT
From: Mike McMahon <MMcM at MIT-AI>
Sender: MMcM at CADR6 at MIT-AI
To: JERRYB at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 14 OCT 1980 1106-EDT
    From: JerryB at MIT-AI (Gerald R. Barber)
      1.  I started it up this morning, telling it to read my mail which it did, but
    before it was done it errored out with a "trying to read on a closed channel" error
    leaving #1/?? in the mode line for the message count.
What you mean is that it left you in the error handler when the filesystem got an error and
that happened when you "recovered" from the filesystem error.  This is a systematic problem.

      2.  It has lost all my mail from over the 3 day weekend which I am not too happy about.
    (it managed to do this before the disks were backed up this morning.)

      5.  It won't save the mail file it has gobbled.  The scenario that led to problem 2
    was that it read in all my mail, including my babyl file, deleted my mail file and rewrote
    my babyl file with only its old contents.  So now it has all my mail in its guts and
    any attempts to save the mail result in a "no changes have been made" message which
    isn't the case.
I find that very difficult to believe.  In particular you have the order of events wrong: your
new mail file is not deleted until AFTER the updated BABYL file has been rewritten.  Can you
please describe the circumstances better?  It should have renamed your MAIL file to _ZMAIL,
which would be left around if it crashed before finishing.

      3.  There is a particular message in my mail--which I can't get to because of the lost 
    mail--that causes the computation of the summary line to bomb out with wrong args to =.
From inside what function?
    
      4.  Past a particular point in the mail file any attempts to continue cause LOCK to
    appear in the wholine and reseting the process in the only way out.
Can you please be more specific?
    
    If ZMAIL is in the experimental stage then it should be advertized as such.  In particular
    it should tell you this right from the beginning.  Users learn to use systems by trying 
    them.  If you put unfinished system up without warning people you setting them up to
    screw themselves.
Many people use this program without any major difficulties that i have heard of.
    
    Other observations concerning ZMAIL:
    
      2.  There is very poor high level control.  With various programs available on different
    machines to read your mail files it is easy for a mail reading program not to notice changes
    made by other mail reading programs.  There should be ways to refresh what the mail reading
    program thinks the state of the mail files is.  There should be checks to detect changes and
    prevent screws.
This is handled when you try to save out, just like in BABYL or RMAIL.
    
    One reason I may be having more trouble than others using ZMAIL might be because I have
    a BABYL style mail file instead of RMAIL.
No.  ZMAIL handled BABYL format from the beginning, long before it handled RMAIL format.  Do
you perhaps have the Append option in your BABYL file or anything else out of the ordinary
like that?

Date: 14 October 1980 14:53-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject:  #^ and #/
To: DICK at MIT-AI
cc: BUG-LISPM at MIT-AI


Well, 100% MacLisp compatability is just plain impossible.  Especially
with respect to character sets.  Face it, the LispMachine character
set is NOT ASCII.  The character numbered 1 is a plain ordinary
printing character just like the one numbered 101.  To call it control-A
is confusing the issue.

I realize there are problems with dealing with the two character sets.
There are many maps from how-you-think-about-characters to actual
characters (fixnums), #^ gets you one map and #/ gets you another.
Unfortunately you want something different from both of these.  I
suggest you either give up on sharpsigns and type "1", or define a
private sharpsign macro that does what YOU want:

(set-syntax-/#-macro-char #/<whatever> #'(lambda (ignore stream) ...))

is the prefered way, but you can also do exactly the same thing you would
do in MacLisp if you wish to be compatable here.

Date: 14 OCT 1980 1337-EDT
From: jerryb at MIT-AI (Gerald R. Barber)
To: (BUG LISPM) at MIT-AI

In system 46.4, with microcode 692, on LISP Machine Four:

Doing a DISK-SAVE to a partition that is too small seems to first clobber the
disk label then find out that the partition is too small.  When it signals the 
error for some reason it crashes the machine.  Warm booting seems to bring
things back to life but the wholine thinks the machine has been cold booted.


Date: 14 OCT 1980 1125-EDT
From: DICK at MIT-AI (Richard C. Waters)
To: (BUG LISPM) at MIT-AI, alan at MIT-MC

 Refering to your comment on my comment (below).  THere are two probems:

1. granted that 501 "is the only control A on the lisp machine",
there is a character 1 that occures in files, and whose common name
in general use in the world is control-A.  One thing that # was supposed
to do for you is to allow you a way to rrefer to unusual characters without
having to put them into your program text.  when you say that I can get 1
by typeing #/^A, I assume you mean that I should be typing an actual ^A
(ie down arrow) in the file which defeats the purpose.

2. Much more to the point is the question of maclisp compatability.
Is this seriously being attempted or not?  If it is, then it is a problem that
#^A is 1 in maclisp, and 501 on lispm.  (I realize that the deaper problem
is that holding down the shift key, and hitting A is 1 in maclisp and 501
on the lispmachine.)  It certainly would be nice if there was some clean
way of generating he basic ascii character codes that was compatable between
the two machines.

    Date: 12 October 1980 16:55-EDT
    From: Alan Bawden <ALAN at MIT-MC>
    To: FORPAS at MIT-AI
    cc: BUG-LISPM at MIT-AI

	Date: 11 OCT 1980 2046-EDT
	From: FORPAS at MIT-AI (Richard C. Waters)

	#^A reads in as 501, instead of 1.  if I had wanted 501,
	I would have typed #/A.

    #^A means control-A.  "That character that is generated by holding
    down the control key and typing A".  In MacLisp that is the number 1,
    on a LispMachine that is the number 501.  There is no other control-A
    on a LispMachine.

    Indeed 501 can also be generated by #/A.  That means "A with the control
    bit set".  This is the fixnum 301 in MacLisp.

    If you want the number 1, then you mean the LispMachine character
    called "down-arrow".  The way to get this is #/.

Date: 14 OCT 1980 1106-EDT
From: JerryB at MIT-AI (Gerald R. Barber)
To: (BUG LISPM) at MIT-AI

In system 46.1, with microcode 692, on LISP Machine Four:

I am still having a lot of trouble with ZMAIL (HIC: I made the change you suggested to
my init.)

  1.  I started it up this morning, telling it to read my mail which it did, but
before it was done it errored out with a "trying to read on a closed channel" error
leaving #1/?? in the mode line for the message count.

  2.  It has lost all my mail from over the 3 day weekend which I am not too happy about.
(it managed to do this before the disks were backed up this morning.)

  3.  There is a particular message in my mail--which I can't get to because of the lost 
mail--that causes the computation of the summary line to bomb out with wrong args to =.

  4.  Past a particular point in the mail file any attempts to continue cause LOCK to
appear in the wholine and reseting the process in the only way out.

  5.  It won't save the mail file it has gobbled.  The scenario that led to problem 2
was that it read in all my mail, including my babyl file, deleted my mail file and rewrote
my babyl file with only its old contents.  So now it has all my mail in its guts and
any attempts to save the mail result in a "no changes have been made" message which
isn't the case.

If ZMAIL is in the experimental stage then it should be advertized as such.  In particular
it should tell you this right from the beginning.  Users learn to use systems by trying 
them.  If you put unfinished system up without warning people you setting them up to
screw themselves.

Other observations concerning ZMAIL:

  1.  Why isn't there any documentation.  Niether ? or <help> are defined keys.  This
is stone age thinking.

  2.  There is very poor high level control.  With various programs available on different
machines to read your mail files it is easy for a mail reading program not to notice changes
made by other mail reading programs.  There should be ways to refresh what the mail reading
program thinks the state of the mail files is.  There should be checks to detect changes and
prevent screws.

  3.  Why do pages of a message only overlap 1 line instead of at least 2 as on ITS.  We have
a lots of screen area, lets use some of it.

One reason I may be having more trouble than others using ZMAIL might be because I have
a BABYL style mail file instead of RMAIL.


Date: 13 OCT 1980 1037-EDT
From: JLK at MIT-AI (John L. Kulp)
To: (BUG LISPM) at MIT-AI

In system 46.1, with microcode 692, on LISP Machine Eight:
When you send mail to someone at MC, it still tries to send via AI and
gives a error if AI is down.  Isn't it about time this was fixed?  Also,
it would be nicer if when the mailer was going to give up trying to send
via various hosts, it would give you some message like "Can't connect to
any remote host to send mail" and leave you back at top level, rather
than in the error handler looking at STANDARD-ALLOCATE.  I realize
some of the problems here, but I find the lack of such a user interface
to be highly unesthetic.


Date: 13 OCT 1980 0345-EDT
From: SHIPMN at MIT-AI (David W. Shipman)
To: (BUG LISPM) at MIT-AI

In system 46.1 spire, with microcode 692, on LISP Machine Twelve:

Menu's which have a label at the top outside the borders do not properly position the menu
with the mouse over the last chosen item. Instead, the menu is positioned with the mouse
at the item above the last chosen item (apparently TOP-MARGIN isn't being subtracted out).


Date: 12 OCT 1980 2211-EDT
From: ECC at MIT-AI (Eugene C. Ciccarelli)
Subject:  FED
To: (BUG LISPM) at MIT-AI

In system 46.1, with microcode 692, on LISP Machine Four:

Are FED's file reading and writing commands ignoring the
filenames they ask for and read?  I modified a font (HL7) and
then wanted to write it to my directory, but FED wrote it back
over LMFONT;HL7 QFASL which is where it originally came from,
completely ignoring all parts of my filename.  And when I tried
reading FONTS;SUPSUP KST it erred on LMFONTS;SUPSUP KST nonexistant.
(I'm getting the original HL7 back, by the way, from tape, so not
to worry...)


Date: 12 October 1980 16:55-EDT
From: Alan Bawden <ALAN at MIT-MC>
To: FORPAS at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 11 OCT 1980 2046-EDT
    From: FORPAS at MIT-AI (Richard C. Waters)

    #^A reads in as 501, instead of 1.  if I had wanted 501,
    I would have typed #/A.

#^A means control-A.  "That character that is generated by holding
down the control key and typing A".  In MacLisp that is the number 1,
on a LispMachine that is the number 501.  There is no other control-A
on a LispMachine.

Indeed 501 can also be generated by #/A.  That means "A with the control
bit set".  This is the fixnum 301 in MacLisp.

If you want the number 1, then you mean the LispMachine character
called "down-arrow".  The way to get this is #/.

Date: 11 OCT 1980 2046-EDT
From: FORPAS at MIT-AI (Richard C. Waters)
To: (BUG LISPM) at MIT-AI

In system 46.1, with microcode 692, on LISP Machine Eight:

#^A reads in as 501, instead of 1.  if I had wanted 501,
I would have typed #/A.

			Dick Waters


Date: 10 OCT 1980 2306-EDT
From: XCONOS at MIT-AI (Alec Destry)
To: (BUG LISPM) at MIT-AI

In system 46.1, with microcode 692, on LISP Machine Six:

(defun foo(<argument-list>) <function-definition>) compiles fine but

       (defun foo(<argument-list>) <function-definition>) gives the message:
 /|\
  |
white space

UNBALANCED PARENTHESES in the mode line.

Moon@MIT-MC (Sent by Moon at CADR6@MIT-MC) 10/09/80 21:38:21
To: BARMAR at MIT-MC
CC: (BUG LISPM) at MIT-MC
Whoever put this special form in forgot to globalize it and document it.
I don't think it's all that great myself, but as you say it's symmetrical
so it will be global in the next system release (system 47) and will be documented
in the next version of the manual to come out.

Date: 9 October 1980 19:56-EDT
From: Howard I. Cannon <HIC at MIT-MC>
To: ZVONA at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 9 October 1980 19:42-EDT
    From: David Chapman <ZVONA at MIT-AI>
    To:   BUG-LISPM at MIT-AI

    The lispm no longer seems to grok maclisp file names ((dev dir) fn1 fn2). I think it used to,
    which is a necessary  maclisp compatibility feature.
Yes, that's right, it no longer allows the list format.    Of course
it is not necessaryf or compatibility, since MacLisp and
the Lispm both accept atomic arguments.


Moon@MIT-MC 10/09/80 20:11:26
To: (BUG LISPM) at MIT-MC
In system 46.1, with microcode 692, on LISP Machine Six:

The new filename garbage broke the F command in PEEK, it gets an error
if any files are open.


Date:  9 OCT 1980 1942-EDT
From: ZVONA at MIT-AI (David Chapman)
To: (BUG LISPM) at MIT-AI

The lispm no longer seems to grok maclisp file names ((dev dir) fn1 fn2). I think it used to,
which is a necessary  maclisp compatibility feature.

MOON@MIT-MC 10/09/80 17:23:56 Re: Interpreted methods
To: dlw at MIT-AI, henry at MIT-AI
CC: (BUG LISPM) at MIT-AI
    Date:  9 OCT 1980 1430-EDT
    From: dlw at MIT-AI (Daniel L. Weinreb)
    Sent-by: TK at MIT-AI
    Subject: Interpreted methods
    To: (BUG LISPM) at MIT-AI

    Henry Lieberman has complained that there is no way to single-step through
    methods.  Indeed, as far as I can tell, the compiler is automatically invoked
    on methods whenever the flavor system wants it to be, and there is
    no way to prevent this.  Lisp-level (high level language) stepping really
    is a useful thing sometimes; there ought to be a way to get this
    for methods.
Only combined-methods are automatically compiled.  User-written methods
are compiled or not compiled under precisely the same criteria as other
user written functions.

MOON@MIT-MC 10/09/80 17:29:03
To: dlw at MIT-AI
CC: (BUG LISPM) at MIT-MC
    Date:  9 OCT 1980 0139-EDT
    From: dlw at MIT-AI (Daniel L. Weinreb)
    To: (BUG LISPM) at MIT-AI

    In 46.1, on cadr 8: The Split Screen Frame command feature to set a
    System-X key still does not work.  First of all, if you tell it to use
    "System 2", it echoes in the little window as if you had typed "22".
    Secondly, if you then try typing System 2, nothing is selected;
    TV:SELECTED-WINDOW is NIL.  This happens in every case and the simplest
    case I tried.  Dave, weren't you just telling ME that I install things
    without trying them?

Well I tested it when I fixed it, I guess I'll have to fix it again.

Date:  9 OCT 1980 1432-EDT
From: dlw at MIT-AI (Daniel L. Weinreb)
Sent-by: TK at MIT-AI
To: (BUG LISPM) at MIT-AI

Sigh, that was from DLW, not TK...

Date:  9 OCT 1980 1432-EDT
From: TK at MIT-AI (Tom Knight)
To: (BUG LISPM) at MIT-AI

There should be a check made such taht the compiler gives
you a warning if you write a method that has an argument whose
name is also the name of an instance variable!  This causes
totally obscure screws.

Date:  9 OCT 1980 1430-EDT
From: dlw at MIT-AI (Daniel L. Weinreb)
Sent-by: TK at MIT-AI
Subject: Interpreted methods
To: (BUG LISPM) at MIT-AI

Henry Lieberman has complained that there is no way to single-step through
methods.  Indeed, as far as I can tell, the compiler is automatically invoked
on methods whenever the flavor system wants it to be, and there is
no way to prevent this.  Lisp-level (high level language) stepping really
is a useful thing sometimes; there ought to be a way to get this
for methods.

Date: 9 October 1980 13:12-EDT
From: Howard I. Cannon <HIC at MIT-MC>
To: dlw at MIT-AI
cc: BUG-LISPM at MIT-AI

Why not resurrect the idea of having the window EH have multiple
configurations.  One of them could have a ZMACS editor window in it.


Date:  9 OCT 1980 0155-EDT
From: dlw at MIT-AI (Daniel L. Weinreb)
To: (BUG LISPM) at MIT-AI

The main problem with the window error handler is that you cannot see your
source code.  I have to keep switching between the editor and the window
error handler in order to compare my source with the compiled code in order
to interpret where the error happened, and it is a real pain.


Date:  9 OCT 1980 0139-EDT
From: dlw at MIT-AI (Daniel L. Weinreb)
To: (BUG LISPM) at MIT-AI

In 46.1, on cadr 8: The Split Screen Frame command feature to set a
System-X key still does not work.  First of all, if you tell it to use
"System 2", it echoes in the little window as if you had typed "22".
Secondly, if you then try typing System 2, nothing is selected;
TV:SELECTED-WINDOW is NIL.  This happens in every case and the simplest
case I tried.  Dave, weren't you just telling ME that I install things
without trying them?


LSH@MIT-MC 10/08/80 11:49:57
To: MOON at MIT-MC, (BUG LISPM) at MIT-MC
CC: LSH at MIT-MC, RP at MIT-MC
Date:  7 OCT 1980 2313-EDT
From: MOON at MIT-AI (David A. Moon)
Subject: Lisp machine Macsyma problems

     LSH@MIT-MC 10/07/80 08:46:33 Re: LISPM-MACSYMA
     To: (BUG LISPM) at MIT-MC

      Problems possibly due to LISPM:
      3)On cadr3, using band 4, one can't do (disk-restore 4): it hangs.

   I cannot reproduce this problem, could you give specific directions for
   how to make it happen?

Hm, yeah, actually it turns out to require macsyma to have been
working, and at least one of the following two being true: Garbage
collector on, Context bug having occured.
 It's on cadr 3 right now, or batch(lr,4,mc,lsh) in macsyma.


Date:  7 OCT 1980 2358-EDT
From: MOON at MIT-AI (David A. Moon)
Subject: New system release
To: INFO-LISPM at MIT-AI

The previously-announced system, 45.2, has been withdrawn and replaced by 46.1.

Date:  7 OCT 1980 2313-EDT
From: MOON at MIT-AI (David A. Moon)
Subject: Lisp machine Macsyma problems
To: lsh at MIT-MC
CC: (BUG LISPM) at MIT-AI, rp at MIT-MC, jpg at MIT-MC

    LSH@MIT-MC 10/07/80 08:46:33 Re: LISPM-MACSYMA
    To: (BUG LISPM) at MIT-MC
    CC: RP at MIT-MC, JPG at MIT-MC, LSH at MIT-MC
    Error-List for CADR3,band 4,for the record,to check in next MACSYMA-version:

    Problems possibly due to LISPM:
    -------------------------------
    1)Spurious black rectangles occurs on screen (<esc>C converted,or
    totally black) 4chars wide, 1-15 high, when displaying large formulas.

    2)Various lines not drawn, like in fractions and around matrices.
#1 and #2 are due to running system 32 with the wrong microcode, which is
not compatible with it.  The interface to the line-drawing microcode primitive
was changed at one point.  In general it cannot be expected to work to disk-restore
into an arbitrarily-old system while running an arbitrarily-new microcode.

    3)On cadr3, using band 4, one can't do (disk-restore 4): it hangs.
I cannot reproduce this problem, could you give specific directions for
how to make it happen?


Can we please arrange for someone to build a new Macsyma band in the current
system?  I've recently heard several complaints that there is no working
Macsyma on the Lisp machine, that there is an old one that is broken and a
new one that is even more broken, etc.  I don't really know who is in
charge of doing this any more.

LSH@MIT-MC 10/07/80 08:46:33 Re: LISPM-MACSYMA
To: (BUG LISPM) at MIT-MC
CC: RP at MIT-MC, JPG at MIT-MC, LSH at MIT-MC
Error-List for CADR3,band 4,for the record,to check in next MACSYMA-version:

Problems possibly due to LISPM:
-------------------------------
1)Spurious black rectangles occurs on screen (<esc>C converted,or
totally black) 4chars wide, 1-15 high, when displaying large formulas.

2)Various lines not drawn, like in fractions and around matrices.

3)On cadr3, using band 4, one can't do (disk-restore 4): it hangs.

Specific MACSYM-ese bugs:
-------------------------
4)WRITEFILE(); Doesn't work
5)PAGEPAUSE1 Undefined function
6)BATCHLOAD  Undefined function
7)TRUENAME Undefined function <- RESTORE (Use loadfile instead.)

8)Double ^Z required to exit from err in batchfile (1:st ^Z gives new err)

9)Pathological consumption of CONTEXT. Increased 50=>200, still exhausted
by LRICCICOM in program below. Can be increased more but the phenomena
might indicate err.

10)The function METRIC(); in MC:TENSOR;CTENSR FUNCS inserts extra:
(#<DTP-FEF-POINTER ....  POWERX-INTERNAL-G1192> SIMP)
around some sums in numerator.

-lsh


Date:  6 OCT 1980 2139-EDT
From: MOON at MIT-MC (David A. Moon)
Subject: List sort
To: GLS at MIT-MC
CC: (BUG LISPM) at MIT-MC, (BUG LMMAN) at MIT-MC

Yes, the list sort is unstable, and the documentation is incorrect.
SI:SORT-SHORT-LIST is stable.  When we get around to it the plan
is to make a new function STABLE-SORT which will be stable on all
arguments but possibly slower.

Date:  6 OCT 1980 2129-EDT
From: MOON at MIT-MC (David A. Moon)
Subject: Re: CADR13 keyboard warm-booting
To: DLA at MIT-EECS
CC: (BUG LISPM) at MIT-MC

If it does it a lot it's because someone modified the machine to
support a new keyboard then didn't install a new keyboard after all.

MOON@MIT-MC 10/06/80 21:21:30 Re: CADR14's mouse
To: CPR at MIT-AI
CC: (BUG lispm) at MIT-AI
Send it back to John Purbrick for repairs.  And DON'T use disk drives for tables!

Date: 6 October 1980 20:35-EDT
From: Mike McMahon <MMcM at MIT-AI>
Sender: MMcM at CADR6 at MIT-AI
To: DLW at MIT-AI, JERRYB at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 4 October 1980 00:16-EDT
    From: Daniel L. Weinreb <dlw at MIT-AI>
	From: JerryB at MIT-AI (Gerald R. Barber)
	It seems to be not too robust yet, selecting profile caused it to bomb out,
	I don't know how reproducible this is.  At any rate (initialize-zmail) bombs out
	with a subscript 4. was beyond the lenght 4.
    This is very strange, since I used ZMAIL every day and find it quite
    robust, except occasionally when I venture into hairier features.
    Selecting Profile has never bombed out on me yet.
The reasons that profile mode and (initialize-zmail) bomb out for you are the same, 
that you SETQ ZWEI:LISP-MODE-HOOK to something that will only work for ZMACS buffers.
You should set it to 'ZWEI:ELECTRIC-SHIFT-LOCK-IF-APPROPRIATE, which does what you
want correctly.

Date:  6 OCT 1980 1538-EDT
From: CPR at MIT-AI (Christopher P. Ryland)
Sent-by: rg at MIT-AI
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on Lisp Machine Fourteen:

CADR14's mouse is broken; it doesn't give any horizontal info.  It's probably a
loose or broken wire, since it has rolled off the disk drive's top several times.


Date:  6 OCT 1980 1529-EDT
From: dlw at MIT-AI (Daniel L. Weinreb)
To: (BUG LISPM) at MIT-AI

I have gotten mildly screwed a few times by the FORCE-USER-TO-LOGIN query
happening after I have typed ahead a filename to ZMACS (the c-X c-F
command).  How about having it flush input before readlining?

Also, how about a convention that anything that flushes input should BEEP?


Date:  6 Oct 1980 1355-EDT
From: Dave Andre <DLA at MIT-EE>
Subject: Re: CADR13 keyboard warm-booting
To: MOON at MIT-MC
cc: bug-lispm at MIT-AI
In-Reply-To: Your message of 5-Oct-80 1812-EDT

This is an old keyboard, and I understand that this is a known bug, but
this one is particularly annoying.  (Other old keyboards I've used didn't
exhibit the problem nearly as much.
-------

Date: 6 October 1980 12:43-EDT
From: Daniel L. Weinreb <dlw at MIT-AI>
Sender: dlw at CADR6 at MIT-AI
To: RMS at MIT-AI, BUG-LISPM at MIT-AI

You're right, there is already a mechanism to tell GRINDEF that this
function is traced.  The only problem is that it is called TRACE and
causes GRINDEF to print out ";Traced", which would look funny if this
facility were used for metering wrappers and such.  You're also
right about advising; it's harder than I thought.

Date:  6 October 1980 1051-EDT (Monday)
From: Guy.Steele at CMU-10A
To: bug-lispm at MIT-AI
Subject:  Sorting on LISPM
Message-Id: <06Oct80 105113 GS70@CMU-10A>

I was looking at the has table stuff in LMMAN;FD.CON (looks nice),
and noticed that the following section on sorting advertises that
the list sort is stable.  This is not true if the LISP Machine is
still using the hairy CDR-coding sort I devised.

BARMAR@MIT-MC 10/06/80 01:28:34
To: (BUG lispm) at MIT-AI

Why isn't  there  an  installed  selector  macro?   It  is a very useful
function, and it would also make the world very symmetrical (as there is
a corresponding form of delq, etc.).



Date:  6 OCT 1980 0037-EDT
From: Moon at MIT-AI (David A. Moon)
To: (BUG LISPM) at MIT-AI

In system 45.2, with microcode 692, on LISP Machine Six:

SYS:ALL-PROCESSES does not include processes which have never been active since
they were created.

Date:  6 OCT 1980 0033-EDT
From: Moon at MIT-AI (David A. Moon)
Subject: New system release
To: INFO-LISPM at MIT-AI

System 45.2 with microcode 692 is now available.  Currently it is only on CADR-6
but it will migrate to other machines soon.  This system fixes several serious
bugs in 44.3.  Note that system 45.2 does not have ZMAIL in it; a 45.3 with
ZMAIL should come out in a day or two.

The following changes may be of interest:

A new special form, WITH-OPEN-FILE.  This should be used in most cases
rather than calling OPEN, since it arranges for proper cleanup upon
abnormal exit.
	(WITH-OPEN-FILE (var filename options)
		body1
		body2 ... )
evaluates the forms body1, body2, ... with var bound to a stream
which is the result of (OPEN filename options).  The stream is
closed after evaluating the body.  The stream is also closed if
control is thrown out of the body, and in this case if if the file
is being written the partially-written file is deleted.

New hash-table facility available.  Documentation is in a section
of the file AI:LMMAN;FD.CON >.

If you don't know about the WITH-INPUT-FROM-STRING and WITH-OUTPUT-TO-STRING
special forms, documentation may be found in the file AI:LMMAN;FD.STR >.

Some serious bugs in the process system have been fixed.  The most
noticeable was that the Abort key did not run unwind-protects!

The usual large number of small bug fixes, especially to file names,
processes, and typeahead.

The special characters that represent function keys now display with their
new-keyboard names.  The page-separator now displays as <PAGE> rather than
<FORM>.  Typing TERMINAL/HELP will give a better display with documentation
on all the function keys on the new keyboard (even if you're on an old keyboard!).

A couple things have been renamed; probably few people were using them.
The :DRAW-FILLED-IN-CHORD message is now :DRAW-FILLED-IN-SECTOR.
If you added anything to TV:WINDOW-TYPES-ITEM-LIST you should
add it to TV:DEFAULT-WINDOW-TYPES-ITEM-LIST instead; the reason is
that this list can be per-screen and per-frame now.  The :STATUS
message returns a new value, :EXPOSED-IN-SUPERIOR.


Date:  5 OCT 1980 1812-EDT
From: MOON at MIT-MC (David A. Moon)
Subject: CADR13 keyboard warm-booting
To: DLA at MIT-AI
CC: (BUG LISPM) at MIT-MC, dla at MIT-EECS

Is this an old or new keyboard (does it have a MACRO key in the upper
left corner, in which case it is new)?  If it's old, they do that and
it will be fixed when it's replaced with a new.  If it's new, it shouldn't
happen, but JLK is working on some problems with the line-drivers
in the keyboard which coulld cause that.

Date:  5 OCT 1980 1807-EDT
From: BAK at MIT-AI (William A. Kornfeld)
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Five:

With respect to earlier message about broken SYSTEM key, it now
appears to be intermittent.


Date:  5 OCT 1980 1556-EDT
From: BAK at MIT-AI (William A. Kornfeld)
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Five:

The SYSTEM key on this keyboard is broken.


Date:  5 OCT 1980 1408-EDT
From: fenway.zvona at MIT-AI
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine One:
First I logged into AI (to get my lispm init) and then (login "fenway.zvona" 'xx) since
I wanted to work on a file on xx. That fouled up the zwei default filename, so it
thought I wanted TEST-CASES.TEX BOXES > ZVONA; AI: <FENWAY.ZVONA>XX: since I asked for
test-cases.tex and my zwei init sets the default to zvona;ai:boxes >. Fiddling around
with specifying the file I wanted in great detail didn't help. Presumably some path-name
merge function is not smart enough.

Also it would be a winnning feature if View Directory worked on XX.

Date:  5 OCT 1980 1103-EDT
From: XCONOS at MIT-AI (Alec Destry)
To: (BUG LISPM) at MIT-AI

In system 45.1, with microcode 692, on LISP Machine Six:

RE: More comments in new files.

  Maybe there should be more comments in files like lmwin;process > which replace
their counterparts on the lispm2 directory (in this case lispm2;process).  I found
in general less things that needed to be explained were than in the old files.  I
also found less in terms of a general description in the new files.  This is fine for
the people who were here before and who have seen the system develop but it is hard on
those who are just getting introduced to the lisp machine.

LSH@MIT-MC 10/05/80 06:36:32 Re: ";" gave ddt-bug
To: (BUG DDT) at MIT-MC
CC: LSH at MIT-MC, (BUG LISPM) at MIT-MC
whenever I type ";" I get the msg:
"DDT BUG: PLEASE DO :BUG DDT DESCR.. CIRCUMSTANCES"
The first case was preceeded by:
^Z from Emacs,
F^K
; (by mistake)

Done from CADR4 through Supdup to MC, new keyboard.


Date:  4 OCT 1980 1912-EDT
From: DLA at MIT-AI (David L. Andre)
To: (BUG LISPM) at MIT-AI
CC: dla at MIT-EECS

CADR-13 has serious problems with its keyboard.  The problem arises
when two or more keys are hit at approximately the same time.  When
this occurs, almost any character, including "Warm Boot" can be
interpreted.  If you don't believe me, or if you can't get it to
happen yourself, do: (do () (nil) (tyi)) and then hit "j" and "k"
together 10 or 20 times.  Chances are it should warm boot.  In
practice, with my typing, it'll warm boot once every 3 hours of
typing...

			-- Dave

BARMAR@MIT-MC 10/04/80 03:57:28 Re: ZMAIL documentation
To: (BUG lispm) at MIT-AI
Where can I see some ZMAIL documentation.  I couldn't find any in
ai:lmdoc; and it didn't look like there was any in ai:zmail;.


Date: 4 October 1980 00:16-EDT
From: Daniel L. Weinreb <dlw at MIT-AI>
Sender: dlw at CADR2 at MIT-AI
To: JERRYB at MIT-AI, BUG-LISPM at MIT-AI

    From: JerryB at MIT-AI (Gerald R. Barber)
    It seems to be not too robust yet, selecting profile caused it to bomb out,
    I don't know how reproducible this is.  At any rate (initialize-zmail) bombs out
    with a subscript 4. was beyond the lenght 4.
This is very strange, since I used ZMAIL every day and find it quite
robust, except occasionally when I venture into hairier features.
Selecting Profile has never bombed out on me yet.

MOON@MIT-MC 10/03/80 17:53:04 Re: FED bugs
To: JerryB at MIT-AI
CC: (BUG lispm) at MIT-AI
These are fixed in system 45.

Date:  3 OCT 1980 1553-EDT
From: JerryB at MIT-AI (Gerald R. Barber)
To: (BUG LISPM) at MIT-AI

In system 44.3 on LM4

With the following in my Zmail init file

(LOGIN-SETQ *DEFAULT-INITIAL-WINDOW-CONFIGURATION* ':SUMMARY)

When ZMAIL is started up it often gets an error:

The first argument to =, NIL, was of the wrong type.

While in the function ZWEI:COMPUTE-SUMMARY-LINE  ZWEI:ASSURE-MSG-PARSED  
 ZWEI:SUMMARY-DISPLAY-UPDATE.



Date:  3 OCT 1980 1542-EDT
From: JERRYB at MIT-AI (Gerald R. Barber)
Subject: zmail inits
To: (BUG LISPM) at MIT-AI

In system 44.3 on LM4

The following was created by the zmail profile operation:

;JerryB's ZMAIL init file -*-Mode:LISP;Package:ZWEI-*-

(LOGIN-SETQ *DELETE-AFTER-MOVE-TO-FILE* NIL)
(LOGIN-SETQ *SUMMARY-INCLUDE-DATE* T)
(LOGIN-SETQ *DEFAULT-INITIAL-WINDOW-CONFIGURATION* ':SUMMARY)
(LOGIN-SETQ *DEFAULT-HEADER-FORCE* ':NETWORK)
(LOGIN-SETQ *REPLY-WINDOW-MODE* ':YANK)
(LOGIN-SETQ *OTHER-MAIL-FILE-NAMES* '(#<ITS-FILENAME "AI: JERRYB; XMAIL LISP" 14071635> 
                                      #<ITS-FILENAME "AI: JERRYB; XMAIL OMEGA" 14071436> 
                                      #<ITS-FILENAME "AI: JERRYB; XMAIL LISPM" 13404667> 
                                      #<ITS-FILENAME "AI: JERRYB; XMAIL OA" 13404501> 
                                      #<ITS-FILENAME "AI: JERRYB; XMAIL MISC" 13404331>))
(LOGIN-SETQ *DONT-REPLY-TO* '("info-*" "calendar"))
(LOGIN-SETQ *FORWARDED-MESSAGE-SEPARATOR* '"--- Forwarded message follows ---")
(LOGIN-SETQ *ZMAIL-STARTUP-FILE-NAME* '"AI: JERRYB; JERRYB BABYL")
(LOGIN-SETQ *DEFAULT-DRAFT-FILE-NAME* '"AI: JERRYB; MAIL DRAFT")
                                      #<ITS-FILENAME "AI: JERRYB; XMAIL OA" 13404501> 
                                      #<ITS-FILENAME "AI: JERRYB; XMAIL MISC" 13404331>))
(LOGIN-SETQ *DONT-REPLY-TO* '("info-*" "calendar"))
(LOGIN-SETQ *ZMAIL-STARTUP-FILE-NAME* '"AI: JERRYB; JERRYB BABYL")
(LOGIN-SETQ *DEFAULT-DRAFT-FILE-NAME* '"AI: JERRYB; MAIL DRAFT")

1.  When this is read in by ZMAIL on start up the #<ITS-FILENAME ...> things
    don't get very far.

2.  Somethings are duplicated.  This happened when I changed somethings in a
    previously existing profile.

Date:  3 OCT 1980 1505-EDT
From: JerryB at MIT-AI (Gerald R. Barber)
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Four:


Clicking refresh on the "other" menu for a FED window causes 
(METHOD FED:GRID-MIXIN AFTER REFRESH) to be called with too
few arguments.


Date:  3 OCT 1980 1501-EDT
From: JerryB at MIT-AI (Gerald R. Barber)
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Four:


FED calls the function SI:FILE-MERGE-PATHNAMES which is undefined.


Date:  3 OCT 1980 1442-EDT
From: JerryB at MIT-AI (Gerald R. Barber)
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Four:


zmail:

Selecting the filters options fairly consistently get a "process already locked by
this process" error.


Date:  3 OCT 1980 1409-EDT
From: JerryB at MIT-AI (Gerald R. Barber)
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Four:

zmail:

It seems to be not too robust yet, selecting profile caused it to bomb out,
I don't know how reproducible this is.  At any rate (initialize-zmail) bombs out
with a subscript 4. was beyond the lenght 4.  This was within window-create, within 
constraint-frame-windows etc.  Invoking the window error handler at this point
causes tyi to appear in the wholine but the screen doesn't change and nothing
seems to be listening to the keyboard.


Date:  3 OCT 1980 1311-EDT
From: JerryB at MIT-AI (Gerald R. Barber)
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Four:

The eval server checks if USER-ID is NIL before it accepts a connection.
Trouble is that if the machine is not in use USER-ID is "".  I have
added a check in the source to remedy this...


Date:  3 OCT 1980 0343-EDT
From: RMS at MIT-AI (Richard M. Stallman)
To: (BUG LISPM) at MIT-AI

I think there is already a good way for all kinds of tracing
to identify themselves to things like List Callers.
A traced function is a named-lambda which has a slot in its debugging
info (named TRACE?  I forget) which points at the symbol whose
definition is the real original definition.  I think this is what
GRIND and some other things use to find the original definition.
COMPILE probably does too.

The list of traced functions maintained by TRACE shouldn't be used any
more except by (UNTRACE).

Metering and user-written trace packages can use this same method.
Multiple kinds of tracing on one function win since the mechanism can
be used recursively.

This mechanism is no good for advising, because advising shouldn't
behave the same way as tracing.  For example, List Callers should
consider an advised function to be a caller if either the original
definition or the advice mentions the called function.  Grind should
probably print the advice in some form.  Perhaps Compile should
compile the advice as well as the original definition.

Maybe the right way to advise a function is to create a new definition
(lambda (...) (prog () before-advice
		    (return-list (prog1 (multiple-value-list old-body)
					after-advice))))
or else use a macro which expands into that.

Date: 2 October 1980 23:30-EDT
From: Carl W. Hoffman <CWH at MIT-MC>
To: BUG-LISPM at MIT-MC

If somebody is implementing IOTA for the Lisp Machine, PHI should be
implemented as well since often opening of the file is conditional on
something else, such as whether or not the file exists.  See the IOTA source
for a description of PHI.  I agree that these tools need better names.


ALAN@MIT-MC 10/02/80 20:34:17 Re: found in my mailbox...
To: (BUG LISPM) at MIT-MC

    Date: Thu, 2 Oct 1980 1929-CDT
    From: baker at DTI (Albert Boulanger)

    Hi,
    I would like to obtain the progress reports & any recent
    references on the LISP machine that you are building.
    If you can send documentation, send to:

    Albert Boulanger
    222 DCL
    University of Illinois
    Urbana, Illinois 61801

    			Thanx
    -----




Date:  2 OCT 1980 1640-EDT
From: ACW at MIT-AI (Allan C. Wechsler)
To: DLW at MIT-AI
CC: (BUG LISPM) at MIT-AI

How about just FILE?

   (FILE X "MC:FOO;BAR BAZ" ...)

   ---Wechsler

Date: 2 October 1980 13:17-EDT
From: Daniel L. Weinreb <dlw at MIT-AI>
Sender: dlw at CADR8 at MIT-AI
To: MOON at MIT-AI, BUG-LISPM at MIT-AI

I hate to say this (since it suggests doing something the hard way), but
if MM List Callers is going to know about tracing, then we are getting
into a little bit of the danger of Interlisp, where every advanced
feature knows about every other such feature.  I think maybe we need a
general "advise" "protocol" by which any facility (the built-in Trace,
people's own Trace, metering) can attach stuff to a function definition,
using a standard protocol so that MM List Callers and suchlike can
ignore all advising and get at the real function in a standard way.
(Somebody stomp on me if things already work this way.)  I do think letting
people add their own advising is important.

Date:  2 OCT 1980 1228-EDT
From: BAK at MIT-AI (William A. Kornfeld)
To: (BUG LISPM) at MIT-AI

I would prefer if the TOP and GREEK keys on the new keyboards were interchanged.
The current position of GREEK is much more easily reached by touch typists.  I find
that I type such things as logical symbols and arrows with a much greater frequency
than greek letters.

The change to the keyboards takes all of 2 minutes since the keytops are removable
and those two happen to be the same size.  Why not change them soon before people
develop bad habits?


Date: 2 October 1980 04:16-EDT
From: Robert W. Kerns <RWK at MIT-MC>
Subject:  #| ... |# = /* ... */
To: ALAN at MIT-MC
cc: BUG-LISP at MIT-MC, BUG-LISPM at MIT-MC

    Date: 1 October 1980 04:50-EDT
    From: Alan Bawden <ALAN at MIT-MC>
    To:   BUG-LISP, BUG-LISPM
    Re:   #| ... |# = /* ... */

    So, how about this #| ... |# thing?  Are you people convinced that it
    is acceptable?  Nobody objected when I suggested the idea to
    lisp-forum, so if I hear from the MacLisp/NIL people that they are
    willing to put it in their sharpsign macro I will go ahead and add it
    to the LispMachine reader.
It's acceptable to me, but I still think it's gross.  Of course, I've wanted
such a thing bad enough to implement one on occasion, but I STILL think it's
gross.


Date:  1 OCT 1980 2222-EDT
From: Moon at MIT-AI (David A. Moon)
To: (BUG LISPM) at MIT-AI

Somehow m-x List Callers needs to interact with tracing so that it looks
at the original function definition, not the currently-installed one.

Date:  1 OCT 1980 1703-EDT
From: ALAN at MIT-MC (Alan Bawden)
Subject: #| ... |#
To: LISP-FORUM at MIT-MC
CC: (BUG LISP) at MIT-MC, (BUG LISPM) at MIT-MC

(SHIT! This damned keyboard just doubled a ^C and sent you all some
more trash to delete!  Most of you get TWO copies!)

1) Yes, I prefer ";" as the way to write a comment too.  But there are
things that you cannot do with it that you can do with "#|".  If MIDAS
programmers prefer the ";" comment and tend to use it when they can,
then I suspect the same thing will remain true of Lisp programmers.

2) Yes, It is intended that the things should nest.  I agree that
editors won't be able to deal with this correctly, but that is a poor
reason to screw ourselves.  People who use "/*" in PL1 have complained
bitterly for years that the damn things don't nest correctly.

3) About slashification.  I didn't think it was necessary since you
can always comment out a "|#" by typing "|/#" instead, but "/|#" is
better parsed by editors.  So OK, slashification is now part of the
definition.

4) Anyone who uses

#|
 |
 |#

has just thrown away all the advantages of "#|".  He might as well be
typing ";;;" at the front of every line.  Editors will also get confused by
all the "|"s.  For these reasons I expect that this will not be done.
(BTW, M-Q does understand ";;;" if you set the fill prefix, but that is
not always enough.)

5) How come nobody voted no the first time I brought this up?


Date:  1 OCT 1980 1626-EDT
From: ALAN at MIT-MC (Alan Bawden)
Subject: #| ... |#
To: LISP-FORUM at MIT-MC
CC: (BUG LISP) at MIT-MC, (BUG LISPM) at MIT-MC

1) Yes, I prefer ";" as the way to write a comment too.  But there are
things that you cannot do with it that you can do with "#|".  

Date: 1 October 1980 12:05-EDT
From: George J. Carrette <GJC at MIT-MC>
Subject:  Macros and destructuring and functions, oh my!
To: Guy.Steele at CMU-10A
cc: BUG-LISP at MIT-MC, BUG-LISPM at MIT-MC, MACSYMA-I at MIT-MC,
    dlw at MIT-AI

This comment is more of a bug note, but to tell you the truth
I have even found the destructuring provided by DEFMACRO on
the lispm and in maclisp to be poor in the "syntax-checking" and
error message features they provide to the user of a macro which
happened to be written using destructuring. 

Say I write (defmacro foo ( ( a b) C) ...), but you call it as
(foo X Y). In JONL's complr this would cause A and B to be bound to
random bad pointers (well I guess B would be the CAR of the PLIST of X),
the COMPLR does strange things when given such strange input!
even in the maclisp interpreter you would get a strange looking error.
On the lispm you get an error when taking the CAR of X, which is nice,
and you can use the error handler to find out that you are macro-expanding
(FOO X Y), but its still not as nice as a "Bad syntax to macro FOO,
the second argument was intended to match against: (A B)"

In maclisp especialy I think we need a destucturing mechanism which
has error checking which is context informative (in terms of error
messages).  In defmacros this is more important to me than the optimal
code in terms of least number of CAR's and CDR's and stack space used
which JONL's destructuring LET now provides. [However, that technology
of optimaly picking apart data is useful for other things.]

-gjc


Date:  1 October 1980 1113-EDT (Wednesday)
From: Guy.Steele at CMU-10A
To: Alan Bawden <ALAN at MIT-MC> 
Subject:  Re: #| ... |# = /* ... */
CC: bug-lisp at MIT-MC, bug-lispm at MIT-MC
In-Reply-To:  Alan Bawden's message of 1 Oct 80 03:50-EST
Message-Id: <01Oct80 111317 GS70@CMU-10A>

I vote yes.  Seems harmless enough.


Date:  1 October 1980 1106-EDT (Wednesday)
From: Guy.Steele at CMU-10A
To: alan at MIT-MC
Subject:  Defmacros and &...
CC: dlw at MIT-AI, bug-lisp at MIT-MC, bug-lispm at MIT-MC
Message-Id: <01Oct80 110654 GS70@CMU-10A>

Well, I didn't exactly claim that the current thing is elegant.
However, your FRUITY example is indeed an example of the kind
of thing I would like to do, if we could come up with a reasonable
way to express it (actually, I didn't think what you wrote
was so bad).  Oh, well...


Date: 1 October 1980 04:50-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject: #| ... |# = /* ... */
To: BUG-LISP at MIT-MC, BUG-LISPM at MIT-MC

So, how about this #| ... |# thing?  Are you people convinced that it
is acceptable?  Nobody objected when I suggested the idea to
lisp-forum, so if I hear from the MacLisp/NIL people that they are
willing to put it in their sharpsign macro I will go ahead and add it
to the LispMachine reader.

Date: 1 October 1980 04:02-EDT
From: Daniel L. Weinreb <DLW at MIT-AI>
Sender: DLW at CADR2 at MIT-AI
Subject: Re: Macros and destructuring...
To: Dave Touretzky at CMU-10A
cc: BUG-lisp at MIT-MC, BUG-lispm at MIT-MC, BUG-macsymai at MIT-MC

This discussion should be moved to LISP-FORUM.  Dave, if you are not on
it, you probably should be.  I'll send further messages to LISP-FORUM
instead of these BUG- lists.

   What does a LEXPR take if not an argument vector?

It does not take an argument vector.  The ARG function never returns any
such vector.  ARG lets you get at your N arguments via an ugly mechanism
(numbers instead of names) because Maclisp hasn't had &mumbles.  What
FEXPRs do is even more irrelevant; FEXPRs are basically a loss and do
not fit into what I consider reasonable philosophy of Lisp.  I think
it is absurd to base a discussion of what Lisp ought to be on the basis
of what FEXPRs do now.

As for your second paragraph, I have already explained this in previous
messages.  A macro is a function to the meta-lenguage, but it is a macro
to the language.  To say that "A macro is still a function, just like a
FEXPR is" is quite wrong; FEXPRs aren't functions either.  Saying that
destructuring in DEFUN "is a natural thing to do, because at least one
class of function really needs it" is exactly what I have been
disagreeing with; you should *not* add something just because one
application needs it, you can get destructuring with a DESTRUCTURE
special form quite easily without building it in, and macros are NOT
functions.  Read my previous mail.



Date: 30 SEP 1980 2334-EDT
From: Moon at MIT-AI (David A. Moon)
Subject: File names
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Six:

File name defaulting in the editor is really screwed up.  When using Dired,
the file name default in the prompt was "DSK: JNC;" when I did a m-x Dired
out of another m-X Dired which had been to "AI:LMDEMO;".  The DSK:, needless
to say, should never get into a default, and the "JNC;" must have come from
a filename I had typed a long time ago which was "XX:<JNC> ...".

A worse problem which probably existed all along but that I only noticed at this
point was that typing m-x Dired MC:LMDEMO; edits the AI:LMDEMO; dir instead.

Date: 30 September 1980 2135-EDT
From: Dave Touretzky at CMU-10A
To: Daniel L. Weinreb <DLW at MIT-AI> 
Subject:  Re: Macros and destructuring and functions, oh my!
CC: bug-lisp at MIT-MC, bug-lispm at MIT-MC, bug-macsymai at MIT-MC
In-Reply-To:  Daniel L. Weinreb's message of 29 Sep 80 11:20-EST

If Lisp had EXPRs and nothing else, you could perhaps make a more
convincing argument to the effect that functions take multiple
separate arguments and not an argument vector.  But that is not the
case.  What does a LEXPR take if not an argument vector?  What does
a FEXPR take as input that makes it fundamentally different from a
macro?  Given that there are all these ways for a function to accept
arguments, it doesn't seem reasonable to rule out destructuring as
another useful variation.

Second, let's re-examine the notion of macro as part of the
metalanguage.  This is a carryover from assembly language, where macros
used an entirely different set of operations than the source language
(e.g.  simple string manipulation operations as opposed to machine
instructions) and were only used to generate compileable source lines
more efficiently.  I claim a Lisp macro is just another kind of
function, like a FEXPR.  The difference is that a macro is a function
that returns a form to be evaluated.  Now, in the compiler the form is
compiled for later evaluation, but in the interpreter it is evaluated
immediately.  But this is a just a feature of the way compilation works.
A macro is still a function, just like a FEXPR is.  Therefore, adding
destructuring to DEFUN is a natural thing to do, because at least one
class of function (the macro) really needs it, and it is logically
consistent with the other classes as well.

-- Dave


Date: 30 SEP 1980 0303-EDT
From: Moon at MIT-AI (David A. Moon)
To: (BUG LISPM) at MIT-AI

I have fixed (in the source of LMIO1;TIME) the bug that caused it to think
that today is October 1 if you were logged in across midnight.  So don't anyone
else spend a long time trying to find the bug looking at source that is already fixed.

Date: 29 September 1980 19:18-EDT
From: Daniel L. Weinreb <DLW at MIT-AI>
Subject: Macros and destructuring and...
To: Guy.Steele at CMU-10A
cc: BUG-lisp at MIT-MC, BUG-lispm at MIT-MC, macsyma-i at MIT-MC

I know that Lisp is its own meta-language.  Just because one
of the things you do with Lisp is to write macros is no reason
to specialize DEFUN for that application.  There are lots of other
things you could specialize it for; macros are not that special.

Well, I still don't think that functions are pased a vector of
arguments.  They are passed several arguments.  This "vector" is an
implementation detail which you seem to be elevating to the level of a
philosophically desirable entity, merely to make your point.



Date: 30 SEP 1980 0208-EDT
From: JERRYB at MIT-AI (Gerald R. Barber)
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Nine:

The problem with the keyboard I reported a few days ago 
seems not to be a problem with the keyboard but with the 
use of a new keyboard on the long line on cadr9 to rm 812.

Old keyboards work fine on this long line but new ones 
introduce spurious characters.



Date: 29 September 1980 12:20-EDT
From: Daniel L. Weinreb <DLW at MIT-AI>
Subject: Macros and destructuring and functions, oh my!
To: Guy.Steele at CMU-10A
cc: BUG-lisp at MIT-MC, BUG-lispm at MIT-MC, macsyma-i at MIT-MC

    Sorry, Dan, I beg to differ with you on the philosophical nature of macros.
    Macros certainly are functions, of one argument.

No, I still don't agree.  A macro is implemented as a function of one
argument in the meta-language.  From the point of view of the
meta-language it is a function of one argument.  But functions in the
meta-language have nothing to do with functions in the language; from
the point of view of the language, a macro is a translator and not a
function.

							   Now, the fact
    that macros and functions are invoked by means of the "same syntax"
    is sort of a coincidence, and not at all essential.  

Yes.  That's what I said, too.  I don't see why you are debating this.
I went on to say that this coincidence should not fool you into
thinking that lambda lists and defmacro patterns are "the same thing".

    Now, it is true that in practice up until now destructuring has been the most
    useful for macros, which commonly parse apart their arguments into known
    fixed pieces.  There is also the fact that ordinary functions in effect
    already get one level of destructuring by the fact that they are
    considered to get many named arguments rather than a single one (which
    is usually a "vector" of some sort); but after all, what are &OPTIONAL
    and &REST but destructuring mechanisms?  There is something to be said
    for unifying that mechanism with the one used by DEFMACRO and the NIL LET,
    provided it can be done without undue clutter.

No, I do not buy this argument at all.  &OPTIONAL and &REST are not
"destructuring an argument vector".  Functions are not passed an
argument vector; they are passed several arguments.  &OPTIONAL has
absolutely nothing to do with destructuring; you might think &REST
does, but I don't; the only reason that list is there is because it is
the easiest way to let you deal with an unanticipatable number of
arguments.  That list got CONSed; it did n't "fail to get
destructured".



Date: 30 SEP 1980 0059-EDT
From: DLW at MIT-AI (Daniel L. Weinreb)
To: JLK at MIT-MC
CC: (BUG LISPM) at MIT-AI

Certainly, there should be a form of file opening of the "WITH-" form,
and it should be the form we encourage people to use.  The only question
is the name; IOTA is terrible.  How do people feel about WITH-FILE or
WITH-OPEN-FILE or WITH-OPEN?

Date: 30 SEP 1980 0039-EDT
From: MOON at MIT-MC (David A. Moon)
Subject: Floating point representation
To: DEKLEER at PARC-MAXC2
CC: (BUG lispm) at MIT-AI

    Date: 27 SEP 1980 0832-PDT
    From: DEKLEER at PARC-MAXC2
    Subject: Floating point representation
    To:   bug-lispm at MIT-AI

    FROM-JOB:LISP-MACHINE
    SENT-BY:
    TO:"(BUG-LISPM)
    TEXT;-1
    In system 36.6 Ether, with microcode 683, on Xerox Machine 1:

    I had to write some code to convert floating-point numbers to BCPL
    floating-point format so that I could output splines to PRESS files (if
    you have already done this I would like to look at your code).  In the
    process I discovered some strangeness in the representation.  It seems
    to me that the floating-point representation of all negative integers is off
    in the bottom bit, is there some reason for this?  One would expect
    that the reader could do better.

    For example, -2e0 is represented as:

    (describe -2e0)
    -2.0 is a flonum.
      Excess-2000 exponent 2001, 32-bit mantissa 20000000000 (including sign)
      (The mantissa is less than one in the bottom bit position, result is multiplied by 2.)

    While a more accurate representation would be:

      Excess-2000 exponent 2002, 32-bit mantissa 27777777777 (including sign)
      (The mantissa is exactly 1/2, result is multiplied by 4.)
No.  The representation of -2e0 is the exact 2's complement of the representation of 2e0.
Perhaps you don't understand that the mantissa is 2's complement.  The "more accurate"
representation you suggest is in fact off by one least significant bit.

Date: 27 September 1980 13:32-EDT
From: Daniel L. Weinreb <dlw at MIT-AI>
Sender: dlw at CADR6 at MIT-AI
To: GJC at MIT-MC
cc: BUG-LISP at MIT-MC, BUG-LISPM at MIT-MC, MACSYMA-I at MIT-MC

Well, what you have here is a special case; the functions you happen to be
writing are doing something like translation.  Why must DEFUN be modified
just for one particular application?  Use destructuring LET or something.



JLK@MIT-MC 09/29/80 09:17:45
To: DLW at MIT-MC
CC: (BUG lispm) at MIT-AI
I raised this issue before you came back in the LISPM mail, but since you are
thinking about documentation, I thought I would bring it up again.  We have
been completely screwed several times by less-experienced users calling OPEN
without an unwind protect.  This has, on occassion, caused MC to grind to a
complete halt when a user debugging a program on a LISPM that OPEN's a file
gets an error and he(she, actually) does this numerous times, tying up all the
disk channels on MC.  It is my assertion that OPEN should be considered a sub-primitive
only to be used by people that know what they are doing, and the standard file
primitive should be something like IOTA (I don't like that name, but just refer
to the functionality) since that is what you want 99% of the time.  Now the
options for implementing this point of view range from moderate (just documenting
things this way in the manual with warnings, etc.) to radical (renaming OPEN to %OPEN,
breaking lots of code, etc.).   At the very least the LISPM should have a standard
primitive like IOTA (implemented as a macro) which people should be encouraged
to use.  I have mentioned this to HIC a while back, and he concurs with the general
point.  Any ideas?

(Note, this was never much of a problem in Maclisp, although the issue occurs there
too, because the lifetime of LISP environments is much shorter than that on the
LISPM, and it is hard to create infinite channels -- a given job can only hack
about 12. disk channels before they get recycled.  The LISPM simply creates as
many file jobs as needed to get it the number of channels requested.  As another
point, some safeguards should be put in various places to prevent so many channels,
buffers, or whatever it is that is limited in the "file computers", but that
doesn't solve the main problem.  More frequent GC's in Maclisp also helps reclaim
file objects.)


Date: 29 September 1980 1646-EDT (Monday)
From: Guy.Steele at CMU-10A
To: dlw at MIT-AI
Subject:  Macros and destructuring and...
CC: bug-lsip at MIT-MC, bug-lispm at MIT-MC, macsyma-i at MIT-MC
Message-Id: <29Sep80 164658 GS70@CMU-10A>

    From: Daniel L. Weinreb <DLW at MIT-AI>
	From: Guy.Steele at CMU-10A
	Sorry, Dan, I beg to differ with you on the philosophical nature of macros.
	Macros certainly are functions, of one argument.
    
    No, I still don't agree.  A macro is implemented as a function of one
    argument in the meta-language.  From the point of view of the
    meta-language it is a function of one argument.  But functions in the
    meta-language have nothing to do with functions in the language; from
    the point of view of the language, a macro is a translator and not a
    function.

What you say here is correct, but ignores the crucial point that LISP
IS ITS OWN META-LANGUAGE.  In a language like BLISS, it is perfectly
reasonable for procedure syntax and macro syntax to be different.
In LISP, they ought to be similar because what is a meta-function at
one time is simply a function at another.  What's sauce for the goose
is sauce for the gander: if destructuring is good for macros, then
also for functions.  And the point about utility functions used by macros
drives this home.
    
							       Now, the fact
	that macros and functions are invoked by means of the "same syntax"
	is sort of a coincidence, and not at all essential.  
    
    Yes.  That's what I said, too.  I don't see why you are debating this.
    I went on to say that this coincidence should not fool you into
    thinking that lambda lists and defmacro patterns are "the same thing".
    
That's right: *this* coincidence shouldn't fool you, but the coincidence
of language and meta-language *should* fool you.

	Now, it is true that in practice up until now destructuring has been the most
	useful for macros, which commonly parse apart their arguments into known
	fixed pieces.  There is also the fact that ordinary functions in effect
	already get one level of destructuring by the fact that they are
	considered to get many named arguments rather than a single one (which
	is usually a "vector" of some sort); but after all, what are &OPTIONAL
	and &REST but destructuring mechanisms?  There is something to be said
	for unifying that mechanism with the one used by DEFMACRO and the NIL LET,
	provided it can be done without undue clutter.
    
    No, I do not buy this argument at all.  &OPTIONAL and &REST are not
    "destructuring an argument vector".  Functions are not passed an
    argument vector; they are passed several arguments.  &OPTIONAL has
    absolutely nothing to do with destructuring; you might think &REST
    does, but I don't; the only reason that list is there is because it is
    the easiest way to let you deal with an unanticipatable number of
    arguments.  That list got CONSed; it did n't "fail to get
    destructured".

Actually, what I meant is that when you *don't* specify &REST right off
the bat you are getting destructuring by default, and have to say &REST
to avoid it!
But actually, I was indeed thinking that functions *are* passed an
argument vector--on the stack, typically--but this kind of vector
is not made an explicit LISP data type so that the implementation is
free to handle them efficiently.  And see the fact that the &REST
argument mechanism gets you a CDR-coded list on the LISP Machine,
but a LISP vector data type in NIL; this is a reflection of the
underlying efficient mechanisms.
RMS has noted that if you had a VALUES construct for returning
multiple values [such as (LAMBDA (X) (VALUES (CAR X) (HACK X) T))
which returns three things], and also adopted the policy that
destructuring be guided by constructor functions [such as
(LET ((`(,a ,b . ,c))) ...)], then one gets multiple-value-bind
as a special case: (LET (((VALUES A B C) (FOO X))) ...).
Applying the observation that function call and function return
are similar operations (obvious when you consider continuations,
or the MULTIPLE-VALUE-BIND syntax), one concludes that the
argument vector to a function may also be modeled by the VALUES
construct--it is an "internal vector of values".  So destructuring
makes sense there too.
Therefore I believe that an effort should be made to specify a simple,
consistent syntax which encompasses function entry, function return, optionals,
macros, destructuring, and binding of non-variables (such as function
cells or cars of lists) which can be used in DEFUN, DEFMACRO, LET,
and SETF.  I also believe that this facility should probably
be used sparingly in many cases.


Date: 29 September 1980 1151-EDT (Monday)
From: Guy.Steele at CMU-10A
To: dlw at MIT-AI, gjc at MIT-AI
Subject:  Macros and destructuring and functions, oh my!
CC: bug-lisp at MIT-MC, bug-lispm at MIT-MC, macsyma-i at MIT-MC
Message-Id: <29Sep80 115129 GS70@CMU-10A>

Sorry, Dan, I beg to differ with you on the philosophical nature of macros.
Macros certainly are functions, of one argument.  They map a piece of
program (a macro call) into another piece of program.  Now, the fact
that macros and functions are invoked by means of the "same syntax"
is sort of a coincidence, and not at all essential.  There is no
reason why lists whose *second* element was an atom beginning with
an upper-case Q could not be reserved to mean macro calls and detected
as such by the evaluator.  Then, in the evaluator, one would have not
	((AND (ATOM (CAR EXP)) (MACROP (FSYMEVAL (CAR EXP))))
	 (EVAL (MACROCALL (FSYMEVAL (CAR EXP)) EXP)))
but instead
	((AND (ATOM (CADR EXP)) (CHAR= #/Q (GETCHAR (CADR EXP) 1))
	 (EVAL (MACROCALL (GET (CADR EXP) 'MACRO) EXP)))
and one could write a quadratic polynomial as (C Q+ (X Q* (B Q+ (X Q* A))))
for example.  Sure, it's not "LISPy", but it's perfectly consistent.
Another, simpler way to detect macro calls would be to require a keyword
like CALL, so instead of (PUSH X Y) we would write (CALL PUSH X Y).

One of the great things about LISP, though, is that the subset of lists
it chooses to reserve to represent macro calls manage to look like function
calls.  This in turn allows the incredibly punnish and gross, but very
efficient, implementation trick of allowing macro definitions to be
stored in the function cell, taking advantage of the fact that the
*particular syntax chosen for macro calls, which confuses them with
function calls*, guarantees that a symbol cannot represent both a function
and a macro simultaneously anyway.

All this flamage is to point out that the only difference between
a function and a macro is when it is invoked, the algorithm for deciding
whether a form is a function call or a macro, and so on.  Once you have
decided to feed arguments to one or the other, it is a simple function.

Now, it is true that in practice up until now destructuring has been the most
useful for macros, which commonly parse apart their arguments into known
fixed pieces.  There is also the fact that ordinary functions in effect
already get one level of destructuring by the fact that they are
considered to get many named arguments rather than a single one (which
is usually a "vector" of some sort); but after all, what are &OPTIONAL
and &REST but destructuring mechanisms?  There is something to be said
for unifying that mechanism with the one used by DEFMACRO and the NIL LET,
provided it can be done without undue clutter.


Date: 28 SEP 1980 2326-EDT
From: XCONOS at MIT-AI (Alec Destry)
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Five:

(defun foo () some-function-forms)

   (defun bar() some-more-function-forms)
               /|\
                |
           cursor is here

Typing c- to compile bar compiles foo instead.  Presumably because (defun bar ...) does
not start out flush in column zero of the buffer.


Date: 28 SEP 1980 2259-EDT
From: XCONOS at MIT-AI (Alec Destry)
To: MOON at MIT-AI
CC: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Five:

  About the compiler bug:

     MOON@MIT-MC 09/14/80 01:40:51
     To: XCONOS at MIT-AI
     CC: (BUG LISPM) at MIT-AI
     Date: 14 SEP 1980 0113-EDT
     From: XCONOS at MIT-AI (Alec Destry)
     To: (BUG LISPM) at MIT-AI

         In system 40.1, with microcode 684, on LISP Machine Six:

          ;;When evaluated will work fine but when compiled will halt the machine
          (defun foo()
              (*catch 'bar ;;this must be here for the machine to halt.
                (do ()(())
                  (multiple-value (a b)
                      (*catch 'baz (return nil))))))

     I believe this compiles into instructions which are not yet implemented,
     having to do with reformatting the stack in complicated ways.  Don't expect
     this to work any time soon, it is difficult and doesn't seem to be seriously
     hampering any users and consequently is very low priority.

  I would be better in my opinion to get the error handler rather than halting the machine.


Date: 27 SEP 1980 0832-PDT
From: DEKLEER at PARC-MAXC2
Subject: Floating point representation
To:   bug-lispm at MIT-AI

FROM-JOB:LISP-MACHINE
SENT-BY:
TO:"(BUG-LISPM)
TEXT;-1
In system 36.6 Ether, with microcode 683, on Xerox Machine 1:

I had to write some code to convert floating-point numbers to BCPL
floating-point format so that I could output splines to PRESS files (if
you have already done this I would like to look at your code).  In the
process I discovered some strangeness in the representation.  It seems
to me that the floating-point representation of all negative integers is off
in the bottom bit, is there some reason for this?  One would expect
that the reader could do better.

For example, -2e0 is represented as:

(describe -2e0)
-2.0 is a flonum.
  Excess-2000 exponent 2001, 32-bit mantissa 20000000000 (including sign)
  (The mantissa is less than one in the bottom bit position, result is multiplied by 2.)

While a more accurate representation would be:

  Excess-2000 exponent 2002, 32-bit mantissa 27777777777 (including sign)
  (The mantissa is exactly 1/2, result is multiplied by 4.)
-------

Date: 26 September 1980 13:46-EDT
From: George J. Carrette <GJC at MIT-MC>
To: dlw at MIT-AI
cc: BUG-LISP at MIT-MC, BUG-LISPM at MIT-MC, MACSYMA-I at MIT-MC

    Date: 26 September 1980 12:17-EDT
    From: Daniel L. Weinreb <dlw at MIT-AI>
    Sender: dlw at CADR2 at MIT-AI
    To:   GJC
    cc:   BUG-LISP, BUG-LISPM, MACSYMA-I

        Date: 26 September 1980 09:40-EDT
        From: George J. Carrette <GJC at MIT-MC>
        To: JPG at MIT-MC
        cc: BUG-LISP at MIT-MC, BUG-LISPM at MIT-MC, MACSYMA-I at MIT-MC

        I think its a bit of a crock that destructuring is supported in Defmacro
        but not in Defun, for the following reason: many times one writes
        auxiliary functions which are also syntactic in the way they take
        their arguments. If somebody writes (defun foo ((a b)) ...)
        it doesn't mean they are violating data-abstractions. Of course,
        they MIGHT be violating data abstractions.
        
        So, when are we going to see a more general destructuring and binding
        mechanism, one that can handle more than just lists?
        
        -gjc


    It is not a crock.  It is intentional. You seem to not understand the
    philosophical basis of what is going on here.  The thing after the macro
    name in a "defmacro" form is NOT an argument list.  The thing after the
    function name in a "defun" form IS an argument list.  The two are
    totally different and have nothing to do with each other.  Functions
    take arguments; macros don't take arguments.  Functions compute; macros
    translate.  A translator's job usually is to take the structure apart
    and put it back together with some new stuff in a different way.  A
    computer's job is to take several objects, compute upon them, and
    produce side effects and a result.  If the computation done by the
    computer just happens to include taking CARs and CDRs of the objects it
    is passed, that just happens to be what one function is doing, and has
    nothing to do with functions in general.  That is why LispM defuns do
    not have "destructuring lambda lists", and why I belive they should not.

Come come now.  "you seem to not understand the philosphical basis".
I know this is a sore spot, but such attacks!

The case in point happens to be the functions which do macsyma->lisp
translation, and in fact they do translation, and take input in
a syntactic manner just like DEFMACRO. O.K. It may be a crock that
one even needs to do macsyma->lisp translation, but thats another story.

-gjc


Date: 26 September 1980 12:17-EDT
From: Daniel L. Weinreb <dlw at MIT-AI>
Sender: dlw at CADR2 at MIT-AI
To: GJC at MIT-MC
cc: BUG-LISP at MIT-MC, BUG-LISPM at MIT-MC, MACSYMA-I at MIT-MC

    Date: 26 September 1980 09:40-EDT
    From: George J. Carrette <GJC at MIT-MC>
    To: JPG at MIT-MC
    cc: BUG-LISP at MIT-MC, BUG-LISPM at MIT-MC, MACSYMA-I at MIT-MC

    I think its a bit of a crock that destructuring is supported in Defmacro
    but not in Defun, for the following reason: many times one writes
    auxiliary functions which are also syntactic in the way they take
    their arguments. If somebody writes (defun foo ((a b)) ...)
    it doesn't mean they are violating data-abstractions. Of course,
    they MIGHT be violating data abstractions.
    
    So, when are we going to see a more general destructuring and binding
    mechanism, one that can handle more than just lists?
    
    -gjc


It is not a crock.  It is intentional. You seem to not understand the
philosophical basis of what is going on here.  The thing after the macro
name in a "defmacro" form is NOT an argument list.  The thing after the
function name in a "defun" form IS an argument list.  The two are
totally different and have nothing to do with each other.  Functions
take arguments; macros don't take arguments.  Functions compute; macros
translate.  A translator's job usually is to take the structure apart
and put it back together with some new stuff in a different way.  A
computer's job is to take several objects, compute upon them, and
produce side effects and a result.  If the computation done by the
computer just happens to include taking CARs and CDRs of the objects it
is passed, that just happens to be what one function is doing, and has
nothing to do with functions in general.  That is why LispM defuns do
not have "destructuring lambda lists", and why I belive they should not.



Date: 26 SEP 1980 2009-EDT
From: dlw at MIT-AI (Daniel L. Weinreb)
Sent-by: TK at MIT-AI
Subject: That was from DLW, not TK!
To: (BUG LISPM) at MIT-AI

Pervious message "From TK" was really from DLW.  Sorry about that.

Date: 26 SEP 1980 2008-EDT
From: TK at MIT-AI (Tom Knight)
To: (BUG LISPM) at MIT-AI

I think when the system comes up, the first thing it should do is prompt
for a user name, and log in that user.  I keep forgetting to log in,
and then it asks me for my name at awkward times; it is very unaesthetic.
I'd much prefer if it would remind me, and save me from having to type
"(login " by myself.

Date: 26 SEP 1980 1403-EDT
From: DLW at MIT-AI (Daniel L. Weinreb)
Subject: How to use old-style keyboards on Lisp Machines.
To: INFO-LISPM at MIT-AI

Since some of the Lisp Machines still have old-style keyboards, here is
an explanation of how to type some of the new keys on the old keyboards.

To get:		Type:		What it is:
ABORT		TOP/CALL	Asynchronously THROWs out of all functions
				  running in the current process, and restarts
				  the process from its initial function.
CLEAR-INPUT	CLEAR		Flush unread characters (in the rubout-handler
				  buffer).
CLEAR-SCREEN	FORM		Erase or refresh the selected window.
END		TOP/RETURN	Marks the end of input to some programs.
HELP		TOP/H		Gets help, sometimes...
MACRO		BACKNEXT	Invokes keyboard macros in the Editor
				  and Zmail.
NETWORK		TOP/BREAK	SUPDUP and TELNET escape.
OVER-STRIKE	BS		Overstrike characters.
SYSTEM		TOP/ESC		Select a window of a specified type.
				   Type SYSTEM HELP for help.
TERMINAL	ESC		Various terminal functions.
				   Type TERMINAL HELP for help.

HOLD-OUTPUT (used with TERMINAL) and QUOTE (used by the Inspector)
are not availible on the old keyboards.

More details can be found in the window system documentation written
by Allan Wechsler; this is not published yet but bootleg copies
are floating around.

Date: 26 SEP 1980 1322-EDT
From: Nis at MIT-AI (H. Keith Nishihara)
To: MOON at MIT-AI, (BUG LISPM) at MIT-AI

regarding %xbus-read,
the problem seems to be that the ICON convolver puts a 24 bit
2's complement number on the xbus and %xbus-read now returns negative numbers
as positive bignums.  (id be quite happy with an efficient alternative for doing
what %xbus-read used to do)  -- keith


Date: 26 September 1980 09:40-EDT
From: George J. Carrette <GJC at MIT-MC>
To: JPG at MIT-MC
cc: BUG-LISP at MIT-MC, BUG-LISPM at MIT-MC, MACSYMA-I at MIT-MC

    Date: 26 SEP 1980 0517-EDT
    From: JPG at MIT-MC (Jeffrey P. Golden)
    To:   GJC
    cc:   (BUG LISPM), (BUG LISP), MACSYMA-I

    I distinctly remember CWH saying it was ok to use this sort of 
    argument destructuring a few months back when BMT first used it.
    Now you say not to use it.  What gives?

The compile-time environment was messed up in some way. The extra
stuff to allow destructuring in defun's was not loaded.

I think its a bit of a crock that destructuring is supported in Defmacro
but not in Defun, for the following reason: many times one writes
auxiliary functions which are also syntactic in the way they take
their arguments. If somebody writes (defun foo ((a b)) ...)
it doesn't mean they are violating data-abstractions. Of course,
they MIGHT be violating data abstractions.

So, when are we going to see a more general destructuring and binding
mechanism, one that can handle more than just lists?

-gjc



Date: 26 SEP 1980 0517-EDT
From: JPG at MIT-MC (Jeffrey P. Golden)
To: GJC at MIT-MC
CC: (BUG LISPM) at MIT-MC, (BUG LISP) at MIT-MC, MACSYMA-I at MIT-MC

   MACSYM@MIT-MC 09/25/80 19:29:40
   To: (BUG LISPM) at MIT-MC, (BUG LISP) at MIT-MC, MACSYMA-I at MIT-MC
   In system 44.2, with microcode 692, on LISP Machine Ten:
   The lisp machine compiler error's out on functions which have 
   argument destructuring. e.g.
   
   (DEFUN RATDERIVATIVE ((NUM . DENOM) VAR)
     (COND ((EQN 1 DENOM) (CONS (PDERIVATIVE NUM VAR) 1))
   	(T (SETQ DENOM (PGCDCOFACTS DENOM (PDERIVATIVE DENOM VAR)))
   	   (SETQ NUM (RATREDUCE (PDIFFERENCE (PTIMES (CADR DENOM)
   						     (PDERIVATIVE NUM VAR))
   					     (PTIMES NUM (CADDR DENOM)))
   		 ;RATREDUCE ONLY NEEDS TO BE DONE WITH CONTENT OF GCD WRT VAR.
   				(CAR DENOM)))
   	   (COND ((PZEROP (CAR NUM)) NUM)
   		 (T (RPLACD NUM (PTIMES (CDR NUM)
   					(PEXPT (CADR DENOM) 2)))))))))
   ; pardon the example.
   
   Macsyma implementors: argument destructuring is not supported on all 
   systems, and should probably not be used.

I distinctly remember CWH saying it was ok to use this sort of 
argument destructuring a few months back when BMT first used it.
Now you say not to use it.  What gives?


Date: 26 SEP 1980 0123-EDT
From: TFT at MIT-AI (Tom Trobaugh)
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Two:

I just did a bug-zwei message about the effect of ^U-^@ by doing (bug
'zwei) at top-level. When I finished, I followed instructions and typed
<END>. It wrote the file to .mail.;mail > and sat with the wholin saing
NIL. Clicking the mouse produced no result, but did make the page and
run lights flicker.  Is this the end?


Date: 26 SEP 1980 0120-EDT
From: JerryB at MIT-AI (Gerald R. Barber)
To: (BUG LISPM) at MIT-AI

In system 44.3, with microcode 692, on LISP Machine Nine:

The new keyboard on Cadr-9 is flackey.  It sends the wrong characters
at seemingly random times.  It also switches in and out of a mode
where the keyboard speaker acts as a clicker.  (Is this a feature
that is being ramdomly activated and deactivated?)

I have maried it as being flackey.


Date: 26 September 1980 00:20-EDT
From: Daniel L. Weinreb <dlw at MIT-AI>
Sender: dlw at CADR4 at MIT-AI
To: BUG-LISPM at MIT-AI

If you apply a string to a symbol, the following damaged error message appears:

    >>>>TRAP 5273 (ARGTYP FIXNUM PP NIL)
    Some argument to EH:MOVE-INSTRUCTION, NAME, was of the wrong type.

Try compiling and running (defun foo () (funcall "foobarbaz" 'bar)), for
example.  This comes up in real life when someone tries to send a
message to a character string pathname (there is code in the old 40.1
system that does this; it is fixed in the new system).  I think this
error has been mishandled ever since there was an error handler on the
Lisp machine...

Date: 25 SEP 1980 2134-EDT
From: JLK at MIT-AI (John L. Kulp)
To: (BUG LISPM) at MIT-AI

The problem with host defaults getting clobbered in the print file command of DIRED
has been fixed in the source (LMIO1;PRESS).

MOON@MIT-MC 09/25/80 20:57:22 Re: Change to %XBUS-READ
To: Nis at MIT-AI
CC: (BUG LISPM) at MIT-AI, ELN at MIT-AI, BRADY at MIT-AI
CC: WELG at MIT-AI
This was supposed to be a bug fix rather than a change to the function's
contract.  Could you show me specifically what got broken by it?  The Lisp
number and bit-hacking primitives are supposed to work uniformly for fixnums
and bignums so that you couldn't see any difference, although this is not
actually true in absolutely all cases.

Date: 25 SEP 1980 1929-EDT
From: MACSYM at MIT-MC
To: (BUG LISPM) at MIT-MC, (BUG LISP) at MIT-MC, MACSYMA-I at MIT-MC

In system 44.2, with microcode 692, on LISP Machine Ten:

The lisp machine compiler error's out on functions which have 
argument destructuring. e.g.

(DEFUN RATDERIVATIVE ((NUM . DENOM) VAR)
  (COND ((EQN 1 DENOM) (CONS (PDERIVATIVE NUM VAR) 1))
	(T (SETQ DENOM (PGCDCOFACTS DENOM (PDERIVATIVE DENOM VAR)))
	   (SETQ NUM (RATREDUCE (PDIFFERENCE (PTIMES (CADR DENOM)
						     (PDERIVATIVE NUM VAR))
					     (PTIMES NUM (CADDR DENOM)))
		 ;RATREDUCE ONLY NEEDS TO BE DONE WITH CONTENT OF GCD WRT VAR.
				(CAR DENOM)))
	   (COND ((PZEROP (CAR NUM)) NUM)
		 (T (RPLACD NUM (PTIMES (CDR NUM)
					(PEXPT (CADR DENOM) 2)))))))))
; pardon the example.

Macsyma implementors: argument destructuring is not supported on all systems,
and should probably not be used.

-GJC




Date: 25 September 1980 15:06-EDT
From: Daniel L. Weinreb <DLW at MIT-AI>
Sender: DLW at CADR1 at MIT-AI
To: BUG-LISPM at MIT-AI

In system 44.3, with microcode 692, on LISP Machine One:

RSG tells me that about a month ago, he used Zmail, and it deleted a lot
of mail without showing it to him.  Why did he use Zmail?  Well, it was
in the system menu, and nobody TOLD him it was undebugged and not ready
to be used.

It wouldn't have occured to me either that just because something
appears in the system menu, people would take off and use it.  Well, now
we know: they do.  Please use caution here.  If anyone wants to send an
INFO-LISPM about how people shouldn't use things in the system menu
without permission, go ahead, but I don't think its a good idea as it
will really inhibit experimentation and acceptance of our spiffy new
software among the user community.

Date: 25 SEP 1980 1236-EDT
From: Nis at MIT-AI (H. Keith Nishihara)
To: (BUG LISPM) at MIT-AI, ELN at MIT-AI, BRADY at MIT-AI
To: WELG at MIT-AI

the function %XBUS-READ seems to have been changed sometime
over the last month or two. In system 44.3 it returns bignums
(when some but not all of the high 8 bits of the 32. bit word are on)
rather than a 24. bit fixnum like it used to ... this has broken the ICON convolver
code when it tries to get negative 24 bit numbers off of the xbus.
  Ive made a clumsy fix to convert back to 24bit fixnums so the convolver code
should work now.  but it presumably will generate lots of bignum garbage in the process.  
  If this change to %xbus-read was intended, wouldnt it be better to give it a different name
so that the 24bit version could stay as documented? 
-- keith


TK@MIT-MC 09/25/80 10:53:40
To: (BUG LISPM) at MIT-MC
In system 44.3, with microcode 692, on LISP Machine Eight:
The zwei dired "print" option fails to restore the default device after opening the
MC file for queuing the dover output.  The result is that the second file printed
fails due to a file not found error (since the file is not on MC).



Date: 25 SEP 1980 0117-EDT
From: DLW at MIT-AI (Daniel L. Weinreb)
To: (BUG LISPM) at MIT-AI

The compiler does not seem to generate BIND-SELF instructions when
binding things to themselves; it uses BIND-POP.  I doubt this is very
important...


MOON@MIT-MC 09/24/80 20:33:06
To: GJC at MIT-MC
CC: (BUG LISPM) at MIT-MC
    MACSYM@MIT-MC 09/24/80 01:02:02
    To: (BUG LISPM) at MIT-MC
    In system 44.2, with microcode 692, on Lisp Machine Thirteen:

    I gave MACSYMA:SIMPLIFY a compiler:optimizers property of (MACSYMA:OPTIMIZE-SIMPLFY).
    The action of COMPILER:OPTIMIZE is not correct, it FIRST calls the
    optimizers property, and THEN checks to make sure the number of arguments
    it passed was correct given the %ARGS-INFO in effect at the time.
    Also, in this case the function SIMPLIFY had not been defined, so
    the call to %ARGS-INFO caused an error. 
I guess I'll have to remodularize some code in the compiler to fix this
right.  I'll put it on my list.

MOON@MIT-MC 09/24/80 20:19:20
To: DLW at MIT-AI
CC: (BUG ZWEI) at MIT-AI, (BUG LISPM) at MIT-AI
    Date: 24 SEP 1980 1207-EDT
    From: DLW at MIT-AI (Daniel L. Weinreb)
    To: (BUG ZWEI) at MIT-AI
    CC: (BUG LISPM) at MIT-AI

    If you control-top-E the form "(compile 'foo)", it says Compiler recursively
    entered, you may lose.  Gee, this seems pretty innocent to me.  Should it
    really give such an ominous message?

The reason is that the compiler is non-reentrant.  The problems include the
use of the temporary area and an array which is used by the assembler.  In
the case you mention I am not sure whether it actually runs the risk of
losing with the temporary area or whether the error check is just being
too conservative.

Date: 24 September 1980 13:57-EDT
From: Howard I. Cannon <HIC at MIT-MC>
To: DLW at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 24 September 1980 01:31-EDT
    From: Daniel L. Weinreb <DLW at MIT-AI>
    To:   BUG-LISPM at MIT-AI

    There is evidently something wrong with the locking code in QFILE.
    After I control-Zed out of an error, a lock was left locked, apparently
    from the function FS:CHANNEL-ALLOCATE.  This ought never happen if
    locking is done the right way, it seems.
What version of the system was this in.  I just fixed all such bugs.


Date: 24 SEP 1980 1207-EDT
From: DLW at MIT-AI (Daniel L. Weinreb)
To: (BUG ZWEI) at MIT-AI
CC: (BUG LISPM) at MIT-AI

If you control-top-E the form "(compile 'foo)", it says Compiler recursively
entered, you may lose.  Gee, this seems pretty innocent to me.  Should it
really give such an ominous message?


Date: 24 September 1980 11:05-EDT
From: Daniel L. Weinreb <DLW at MIT-AI>
Sender: DLW at CADR6 at MIT-AI
To: BUG-ZMAIL at MIT-AI
cc: BUG-LISPM at MIT-AI

In the version of ZMAIL on system 44.3, with microcode 692, on LISP Machine Six:
(1) There seems to be a bug wherein if you switch files, as the summary for
the new file is being put into the summary window, the summary for the old
file is still there and is pushed down, in several steps, while the new
lines are being inserted.  I don't think any incorrect things happen; it
just looks spastic.  I don't understand how the interface to the scroll
window works, but it looks to me like you are inserting the new things
and then deleting the old things, rather than first deleting and then inserting.

(2) ZMAIL should be more resilient to random things in Profile files.
It itself generated this (define-universe nil  nil nil) [due to a
previously-reported bug in mousing "abort" in the New Universe creation
window from profile mode], and it got an error while trying to read this
file, from which I didn't know how to recover.

(3) It should also be resilient about the various kinds of file system errors
that can happen; mainly these are of the form "host is not responding" or
something which czn be caused by system crashes or powered-down unmodified
Chaos trancievers.  Even if the net is fixed, hosts can still be down.

I think that ZMAIL should NEVER enter the error handler under conditions
in which there has not bee a bug in ZMAIL.  Ideally it should be aware
of which errors can be caused by each subroutine it calls, and it should
have handlers to deal with them.  The file system ought to be signalling
well-advertised condition names (and if it doesn't, it should), so that
ZMAIL can set up handlers.

(4) Once ZMAIL has bombed out, I don't know how to create a fresh ZMAIL or
to tell it to start all over, reinitializing everything.  I have to cold boot.
Is there a way to make it start afresh?

Date: 24 SEP 1980 0322-EDT
From: RMS at MIT-AI (Richard M. Stallman)
To: (BUG LISPM) at MIT-AI

FILE-DEFAULT-FILENAME in some cases makes assumptions about how the
host manages its streams, which may not be correct except for chaosnet
hosts which use the current protocol.  What about a host named "dsk"
which uses the local disk?

Also, the name is misleading.

Date: 24 SEP 1980 0146-EDT
From: DLW at MIT-AI (Daniel L. Weinreb)
Subject: sname defaulting
To: (BUG LISPM) at MIT-AI

I just did (qc-file "cdtb") after sending some mail, and it defaulted
the directory to ".MAIL.".  This is non-ideal.  I think there ought to
be a "working directory" at all times, and that things like qc-file
should call a version of the filename parser that will default to that
working directory.  Defaulting to the working directory should be the
general thing to do; it should be made easy for programs to do this; the
standard function for expanding pathnames should default this way.
Maybe the working directory should be displayed in the who-line (if we
can dig up some room for it).

Date: 24 SEP 1980 0131-EDT
From: DLW at MIT-AI (Daniel L. Weinreb)
To: (BUG LISPM) at MIT-AI

There is evidently something wrong with the locking code in QFILE.
After I control-Zed out of an error, a lock was left locked, apparently
from the function FS:CHANNEL-ALLOCATE.  This ought never happen if
locking is done the right way, it seems.


MACSYM@MIT-MC 09/24/80 01:02:02
To: (BUG LISPM) at MIT-MC
In system 44.2, with microcode 692, on Lisp Machine Thirteen:

I gave MACSYMA:SIMPLIFY a compiler:optimizers property of (MACSYMA:OPTIMIZE-SIMPLFY).
The action of COMPILER:OPTIMIZE is not correct, it FIRST calls the
optimizers property, and THEN checks to make sure the number of arguments
it passed was correct given the %ARGS-INFO in effect at the time.
Also, in this case the function SIMPLIFY had not been defined, so
the call to %ARGS-INFO caused an error. 

-gjc




Date: 23 Sep 1980 2355-EDT
From: Michael Travers <MT at MIT-XX>
Subject: TELNET
To: (BUG LISPM) at MIT-AI

TELNET needs an option to turn off local **MORE**s.  It would also be
nice if IMLAC simulation could be turned on and off from the command
break.
-------

Date: 23 SEP 1980 2258-EDT
From: Moon at MIT-AI (David A. Moon)
To: INFO-LISPM at MIT-AI

If you have system 44.2, you should upgrade it to system 44.3 by cold-booting it,
loading the file AI:MOON;44.3, and dumping it back out.  Answer yes to all the
questions.  If you have a band based on system 44.2 with your own programs loaded
into it, you should upgrade it the same way.  This fixes some small but annoying bugs.

Date: 23 SEP 1980 2101-EDT
From: DLW at MIT-AI (Daniel L. Weinreb)
To: (BUG LISPM) at MIT-AI

When you finish typing a reply to a message that was LMSENt to you,
by typing END, you see a little "END" appear in the window, which
made me instantly think that the program was not correctly interpreting
the END character, but rather had simply inserted it into the message.
It should either not type anything, or type something more confirmative
(is there such a word?) than just echoing.

MOON@MIT-MC 09/23/80 03:11:32
To: XCONOS at MIT-AI
CC: (BUG LISPM) at MIT-MC
    Date: 22 SEP 1980 2117-EDT
    From: XCONOS at MIT-AI (Alec Destry)
    To: (BUG LISPM) at MIT-AI

    In system 44.2, with microcode 684, on LISP Machine Five:

    In an error handler break (i.e. <esc>-<break>) inhibit-scheduling-flag is T.

This is fixed in the source.

MOON@MIT-MC 09/23/80 03:01:07
To: XCONOS at MIT-AI
CC: (BUG LISPM) at MIT-MC
    Date: 22 SEP 1980 0016-EDT
    From: XCONOS at MIT-AI (Alec Destry)
    To: (BUG LISPM) at MIT-AI

    In system 44.1, with microcode 692, on LISP Machine Six:

    (defflavor foo ((foo-value nil))() :initable-instance-variables)

    (defflavor foo1 ()(foo)
      (:default-init-plist :foo-value 1))

    (setq foo-instance (instantiate-flavor 'foo1 nil))
    (<- foo-instance ':eval-inside-yourself 'foo-value) => nil

    shouldn't foo-value be 1 because of the default-init-plist in the flavor definition of
    foo1.

You aren't giving instantiate-flavor the correct arguments.  The second argument
is supposed to be a plist; NIL is not a plist.  Note that a plist is NOT a list
of indicators and values.  A plist is something suitable to give to GET and PUTPROP;
typically it is LOCF of a variable whose value is such a list.  Your example case
smashes the property list of the symbol NIL as well as not working.

Date: 22 SEP 1980 2117-EDT
From: XCONOS at MIT-AI (Alec Destry)
To: (BUG LISPM) at MIT-AI

In system 44.2, with microcode 684, on LISP Machine Five:

In an error handler break (i.e. <esc>-<break>) inhibit-scheduling-flag is T.


Date: 22 SEP 1980 0351-EDT
From: Moon at MIT-AI (David A. Moon)
Subject: New system release
To: INFO-LISPM at MIT-AI

System 44.2 with microcode 692 is now the "installed new" system.  It is
currently installed on CADR's 3, 6, and 8, and should migrate to more shortly.

The main changes from system 40.1 of note (besides bug fixes) are:

The process system has been revised.  Processes are now flavor objects and
there are some new scheduler features (I don't know if the new scheduler
features claim to work yet.)

Use of TOPS-20 for file storage is really supposed to work now.

There are floating-point arrays.  The array type symbol is ART-FLOAT.
These are intended to reduce consing when doing floating-point array
computations.  Accessing a floating-point array is actually somewhat slower
than accessing an ART-Q array with flonums in it, but storing a "temporary"
flonum into an ART-FLOAT array does not create a "permanent" flonum that
would later need to be garbage-collected.  All floating-point arithmetic
operations are now 4.5 microseconds (about 20%) faster, due to removal of
some overhead.

Date: 22 SEP 1980 0016-EDT
From: XCONOS at MIT-AI (Alec Destry)
To: (BUG LISPM) at MIT-AI

In system 44.1, with microcode 692, on LISP Machine Six:

(defflavor foo ((foo-value nil))() :initable-instance-variables)

(defflavor foo1 ()(foo)
  (:default-init-plist :foo-value 1))

(setq foo-instance (instantiate-flavor 'foo1 nil))
(<- foo-instance ':eval-inside-yourself 'foo-value) => nil

shouldn't foo-value be 1 because of the default-init-plist in the flavor definition of
foo1.


Date: 21 SEP 1980 0623-EDT
From: RG at MIT-AI (Richard Greenblatt)
Subject: Poor video from CPT monitors
To: INFO-LISPM at MIT-AI

  The video quality of several CPT monitors
seems to be a strong function of how long they
have been powered on! The monitor currently
on CADR-4, for example, looks perfectly ok
for a quite a long while after powerup, but
eventually becomes barely usable.
  This probably also explains why a number of
monitors flushed for "poor focus" work perfectly
OK when tried later.
  We should determine what causes this.  (Probably
something getting hot).
  Until we can work out a better solution, I ask
users to turn off certain CPTs when they are not in
use.  Currently, I think CADRs 1,4,9, and 10 will
benefit.  Hopefully, we can soon come up with
a real fix.


MOON@MIT-MC 09/20/80 10:56:02
To: (BUG LISPM) at MIT-MC
Should we flush SETUP-KEYBOARD-DISPATCH-TABLE?  I don't think anything
in the system uses it, since I made the error-handler stop using it.
The problems with this function are that its input is in an inappropriate
format and that it "knows" the untrue fact that character codes range
from 0 through 217 octal.  On the other hand, it's in the manual so it's
possible that users may be using it.

Date: 19 SEP 1980 2129-EDT
From: JerryB at MIT-AI (Gerald R. Barber)
To: (BUG LISPM) at MIT-AI

In system 40.1, with microcode 684, on LISP Machine Nine:

In zmacs, if X is 0. evaluating the follwing with ctl-top-e (with no region)

(DEFVAR Y (SETQ X (1+ X)))

results in X and Y being 2. ie, the expresion is evaluated twice.
If there is a region and ctl-top-e is used all works well.


Date: 18 September 1980 23:59-EDT
From: Howard I. Cannon <HIC at MIT-MC>
Subject:  Previously reported bug with UA:ASSEMBLE
To: Moon at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 18 September 1980 22:31-EDT
    From: David A. Moon <Moon at MIT-AI>
    To:   BUG-LISPM at MIT-AI
    Re:   Previously reported bug with UA:ASSEMBLE

    This happens in 43.0 also.  I fixed it with a kludge, you should look
    at the function (in LISPM;CADRLP) and figure out what the right way of
    doing it is.  There doesn't appear to be an adequate replacement for the
    old SI:FILE-GET-FILE-INFO function.
Why isn't FS:FILE-GET-FILE-INFO an appropriate substitute?


Date: 18 SEP 1980 2330-EDT
From: Moon at MIT-AI (David A. Moon)
Subject: System 43.0
To: (BUG LISPM) at MIT-AI

There is a system 43.0 on CADR-6.  Please do not distribute it to any other
machines as there are a number of things broken in it (some of which are my fault).
There will be a replacement world built soon.

Date: 18 SEP 1980 2231-EDT
From: Moon at MIT-AI (David A. Moon)
Subject: Previously reported bug with UA:ASSEMBLE
To: (BUG LISPM) at MIT-AI

This happens in 43.0 also.  I fixed it with a kludge, you should look
at the function (in LISPM;CADRLP) and figure out what the right way of
doing it is.  There doesn't appear to be an adequate replacement for the
old SI:FILE-GET-FILE-INFO function.

Date: 18 SEP 1980 2219-EDT
From: Moon at MIT-AI (David A. Moon)
To: (BUG LISPM) at MIT-AI

In system 43.0, with microcode 684, on LISP Machine Six:

Hitting abort out of the middle of a meta-., while it's reading in the file
(my file job had died apparently), leaves the buffer not in the alist but
attached to the symbol such that meta-.'ing to it again switches to that
buffer then dies in redisplay-mode-line because not all the fields of the
buffer have been initialized.  Perhaps it should look like a deleted buffer
until it has been all read in.

Date: 18 SEP 1980 2151-EDT
From: Moon at MIT-AI (David A. Moon)
To: (BUG LISPM) at MIT-AI

In system 40.1 on CADR-3, UA:ASSEMBLE seems not have been converted properly
for the new file name stuff.  When it prints the version of what it is assembling
it has 0 rather than the correct version.

Date: 18 SEP 1980 2115-EDT
From: RMS at MIT-AI (Richard M. Stallman)
To: (BUG LISPM) at MIT-AI

I agree thht it should be possible to hide the mouse completely, but
that should not be done by moving the mouse.  It woull be too easy to
hide the mouse accidentallly and not be able to find it again.
I would suggest a keyboard command to hide the mouse.  It would stay
hidden until moved more than a certain distance, whereupon it would
reappear wherever it was.  Another reason why it shoull be a keyboard
command is that, if you want to hide the mouse, yo must be using te
keyboard, so it would be easier to use a keyboard command than to move
the mouse.

Date: 18 SEP 1980 0420-EDT
From: MOON5 at MIT-AI (David A. Moon)
Subject: Longstanding bug in ASH
To: (BUG LISPM) at MIT-AI, jim at MIT-MC

This will be fixed in the next microcode version to be released (probably 689).

Date: 18 SEP 1980 0323-EDT
From: moon5 at MIT-AI (David A. Moon)
To: (BUG LISPM) at MIT-AI

In system 40.1, with microcode 684, on LISP Machine Two:

LOAD-MCR-FILE (even if I compile it from the current source) does not
work because it is confused between filename actors and filename
strings (near where it calls FORMAT).

Date: 17 September 1980 18:51-EDT
From: Pandora B. Berman <cent at MIT-AI>
To: TK at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 17 SEP 1980 0802-EDT
    From: TK at MIT-AI (Tom Knight)

    chaosnet transceivers supposedly have a pair of pullup/pulldown
    resistors which try to force the input to the inactive state when 
    the machine is powered off.  Can someone give me an example of a 
    transceiver known to lose?  I'll look at it.
-----
the transceiver connected to cadr3 has this problem. the cadr2 transceiver
may also.

Date: 17 SEP 1980 1803-EDT
From: ECC at MIT-AI (Eugene C. Ciccarelli)
Subject:  M-x List Variables
To: (BUG LISPM) at MIT-AI

In system 40.1, with microcode 684, on LISP Machine One:

I just did a M-x List Variables and the list started at the
variable "Pl1 Inding Style" and continued on from there
but showed no variables alphabetically less that that one.
E.g. it didn't show any of the Comment ... variables.


MOON@MIT-MC 09/17/80 14:57:08 Re: Bug reported by DLW
To: (BUG LISPM) at MIT-MC
Anything that is coercible into a string ought to be accepted as a
string to the filename parsing routines.  This is important for
Maclisp compatibility where one must use symbols as file names.

Date: 17 September 1980 15:12-EDT
From: Howard I. Cannon <HIC at MIT-MC>
To: DLW at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 17 September 1980 14:43-EDT
    From: Daniel L. Weinreb <DLW at MIT-AI>
    Sender: DLW at CADR7 at MIT-AI
    To:   BUG-LISPM at MIT-AI

    In system 40.1, with microcode 684, on LISP Machine Seven:
    When I try to print a file from ZWEI Dired, FILE-PARSE-PATHNAME (I think
    that's the name; it is called from OPEN) barfs saying that
    PRESS:|dsk:fonts;fonts width| is not a valud namestring.
Fixed in the source.


Date: 17 September 1980 14:43-EDT
From: Daniel L. Weinreb <DLW at MIT-AI>
Sender: DLW at CADR7 at MIT-AI
To: BUG-LISPM at MIT-AI

In system 40.1, with microcode 684, on LISP Machine Seven:
When I try to print a file from ZWEI Dired, FILE-PARSE-PATHNAME (I think
that's the name; it is called from OPEN) barfs saying that
PRESS:|dsk:fonts;fonts width| is not a valud namestring.

Date: 17 September 1980 11:13-EDT
From: Daniel L. Weinreb <DLW at MIT-AI>
Sender: DLW at CADR7 at MIT-AI
Subject: "quit" in system menus
To: TFT at MIT-AI, BUG-LISPM at MIT-AI

    From: Tom Trobaugh <TFT at MIT-AI>
    Subject: "quit" in system menus
    
    "Quit" has opposite meanings in the Edit Screen and the Split Screen menus.
    
    In the first, it means "do it", in the second, "don't do it".

Yeah, MMcM and I were just discussing this the other day.  The system
also tends to be unsure whether it wants to say "Quit" verus "Abort",
and "Done" versus "Do It".  I think Split Screen clearly should be
saying "Abort" rather than "Quit".  All uses of these names should
be examined and we should have a consistent convention.

Date: 17 SEP 1980 1028-EDT
From: DLW at MIT-AI (Daniel L. Weinreb)
Subject: Problems with filename parsing.
To: (BUG LISPM) at MIT-AI

In system 40.1, with microcode 684, on LISP Machine Seven:
Here is a simple way to reproduce the problem with filename defaulting
(where it gets two device names).  I log in, enter the editor,
say control-X D (entering Dired, which reads DIR: DLW; NAME1 UP),
and then type control-X control-F; I get told that the default filename
is "AI: DIR: DLW; GAZONK >".


Date: 17 September 1980 09:36-EDT
From: Tom Trobaugh <TFT at MIT-AI>
Sender: TFT at CADR8 at MIT-AI
Subject: "quit" in system menus
To: BUG-LISPM at MIT-AI

"Quit" has opposite meanings in the Edit Screen and the Split Screen menus.

In the first, it means "do it", in the second, "don't do it".

Date: 17 SEP 1980 0802-EDT
From: TK at MIT-AI (Tom Knight)
To: (BUG LISPM) at MIT-AI

chaosnet transceivers supposedly have a pair of pullup/pulldown
resistors which try to force the input to the inactive state when the machine is
powered off.  Can someone give me an example of a transceiver known to lose?  I'll
look at it.

Date: 17 September 1980 07:17-EDT
From: Tom Trobaugh <TFT at MIT-AI>
Sender: TFT at CADR8 at MIT-AI
Subject: Inspector
To: BUG-LISPM at MIT-AI

No bug.  I just wanted to express my admiration and delight.  I've just been using Der
Inspektor to examine a monster net of defstructs that I consed up.  It's great.  Does
everything I want it to do, so far.  I've already sold more than 200 hundred packages!
Rush me more, along with my bonus prize!!

Date: 17 September 1980 02:49-EDT
From: Daniel L. Weinreb <DLW at MIT-AI>
Sender: DLW at CADR7 at MIT-AI
To: BUG-LISPM at MIT-AI

In system 40.1, with microcode 684, on LISP Machine Seven:
From Ed and DLW:  The finger server should return a more reasonable
"JNAME" telling what the user is really doing (like ZMAIL or LISP
or PEEK).  Perhaps this should work by sending a message to the
process that owns the keyboard, which message would return a
character string telling what its "jname" is.  (Does the string
have to be six characters and all uppercase?  Have two versions,
a cretinous ITS restricted one and a good one?  Pardon me, I'm
burnt out...)

Date: 17 SEP 1980 0000-EDT
From: RG at MIT-AI (Richard Greenblatt)
Subject: Need to slow down some machines
To: (BUG LISPM) at MIT-AI

  Some time ago, a notoreous unreliability in CADR-10
found to be due to the clock simply not allowing sufficient
time for the logic to settle.  The problem has also been
seen on other machines.  I have been requested to further
document this episode.
  The problem manifests itself during the execution of a
POPJ-EQUAL instruction.  Typically, one finds that the
machine has dropped dead and that the return to the main
loop, which should be in location 0 of U memory is instead
in location 20.  I determined this was caused by the
microstack pointer failing to decrement properly, due to
inadequate setup time for the chips involved before the clock.

  This critical path is:
  (1)  DATA must appear at ALU inputs
  (2)  the A=B output of the ALU must set up
  (3)  the A=B line (which is wired-or'ed and has only resistive
       pullup) must rise.
  (4)  a couple of gates on the FLAG print, setting up JCOND.
  (5)  logic on the CONTRL print, setting up -SPUSH
  (6)  the micro-stack pointer itself on the SPC print.  In particular
       the low order up-down counter must set up its carry out
       output before the high order one (which contains only one
       active bit) can "start".

  Adding up the manual propogation times for the chips involved,
I determined that the clock simply was not long enuf in the worst
case (I used 10ns for step three.  Empirical evidence it takes at
least that long).
  Therefore, I slowed the clock for SPEED 2, no ILONG to 180 ns from
170 ns.  Note that 180 ns was the "advertised" microcycle of the machine
all along anyway.  This cured the problem with CADR10.

  Subsequently, I scoped other machines (which had not been observed
to fail) to see how much margin they had.  Sure enuf, I found that
they had very, very little.

  Since this problem is relatively easy to identify, (once you are
aware of it),  I do not believe it is desirable to slow down machines
which have not caused trouble.  However, at the first hint of this
problem, the machine should clearly be slowed down.

  Currently, CADRs 3 and 12 have been modified in addition to CADR10.

Date: 16 SEP 1980 2227-EDT
From: dlw at MIT-AI (Daniel L. Weinreb)
Sent-by: HIC at MIT-AI
To: (BUG LISPM) at MIT-AI

I have regenerated LMDOC; LISPM TAGS from scratch.  I made a new list
of files by combining the old, broken LISPM TAGS with PKGDCL, and eliminating
one or two totally obsolete files.  The new list includes the inner system
including the NWS; it does not include ZWEI nor ZMAIL.

Date: 15 September 1980 21:54-EDT
From: Howard I. Cannon <HIC at MIT-MC>
To: NLG.SHIPMAN at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 15 September 1980 21:16-EDT
    From: NLG.SHIPMAN at MIT-AI
    To:   BUG-LISPM at MIT-AI

    In system 40.1 spire, with microcode 684, on LISP Machine Twelve:

    I finally got around to trying the TOPS-20 stuff -- 2 bugs:

    1) If you try to login 8 or 9 times in a row, every other one gets a "Connection went into
    illegal state" error. 
This is because LOGOUT is broken in that world.  That bug has been fixed in the source.

    Perhaps more significant:
    2) The default filename (in the editor) was "QFILE > LMIO AI: THIRD:" when I tried to dired
    or read in a file, for example "SPEECH:<NLG.SHIPMAN>MAIL.TXT", the filename that got
    created was "SPEECH:THIRD:<NLG.SHIPMAN>MAIL.TXT" with a consequent error message telling me
    that two devices had been specified.
How did the THIRD: get in there?  Didn't you have to type it explicitly when
you read the file (or wrote the file)?  If you did so, then of course it defaulted
to that (it can't really read minds).  If it managed to get third out of a magic
hat somewhere, I'd like to know how.  If you think this is the wrong behaviour, then
the only other option is for the ITS filename stuff to "know" about these pseudo-disk
devices (like SECOND, THIRD, and VISION for AI, and SECOND, THIRD, and FOURTH for MC). 
This knowledge seems ad hoc, but perhaps gives the user more of a feature.

    And a third one:
    3) When I tried to send this bug report, FS:FILE-DEFAULT-HOST was bound to "SPEECH"; so
    when I hit  to mail, I got an error from the speech-closure complaining about the 
    ITS filename format.
This is a bug in the mail stuff, which either should be made to know about TOPS-20
(probably harder), or it could check to see whether the default host was an
ITS, and if not, it could just use AI.

    Continuing:
    4) So I did a (SETQ FS:FILE-DEFAULT-HOST "AI") and hit  again. This time it complained
    that I had logged in as "somebody else". So I did a (SETQ FS:USER-ID "SHIPMN") and crossed
    my fingers.
Well, this is due to the well known problem that if you give a name longer than 6 characters
the ITS end loses.  Sigh, I guess this is a problem if your login ID on TOPS-20 and
ITS are different.  I will have to think about this one some more.

Thanks for your bug reports.


Date: 15 SEP 1980 2116-EDT
From: NLG.SHIPMAN at MIT-AI
To: (BUG LISPM) at MIT-AI

In system 40.1 spire, with microcode 684, on LISP Machine Twelve:

I finally got around to trying the TOPS-20 stuff -- 2 bugs:

1) If you try to login 8 or 9 times in a row, every other one gets a "Connection went into
illegal state" error. 

Perhaps more significant:
2) The default filename (in the editor) was "QFILE > LMIO AI: THIRD:" when I tried to dired
or read in a file, for example "SPEECH:<NLG.SHIPMAN>MAIL.TXT", the filename that got
created was "SPEECH:THIRD:<NLG.SHIPMAN>MAIL.TXT" with a consequent error message telling me
that two devices had been specified.

And a third one:
3) When I tried to send this bug report, FS:FILE-DEFAULT-HOST was bound to "SPEECH"; so
when I hit  to mail, I got an error from the speech-closure complaining about the 
ITS filename format.

Continuing:
4) So I did a (SETQ FS:FILE-DEFAULT-HOST "AI") and hit  again. This time it complained
that I had logged in as "somebody else". So I did a (SETQ FS:USER-ID "SHIPMN") and crossed
my fingers.



Date: 14 SEP 1980 1347-EDT
From: rg at MIT-AI (Richard Greenblatt)
To: INFO-LISPM at MIT-AI

Due to a bug in the cold load generator, attempting to
load a microcompiled function with COMPILER:MA-LOAD gives
an error message in systems since 32 or so.  In 40 series systems,
the problem can be patched by reading in the file LISPM;UCFIX >.  
This bug has been fixed in the source.


Date: 14 SEP 1980 1335-EDT
From: rg at MIT-AI (Richard Greenblatt)
To: INFO-LISPM at MIT-AI

  Due to a bug in the cold load generator,


MOON@MIT-MC 09/14/80 01:40:51
To: XCONOS at MIT-AI
CC: (BUG LISPM) at MIT-AI
    Date: 14 SEP 1980 0113-EDT
    From: XCONOS at MIT-AI (Alec Destry)
    To: (BUG LISPM) at MIT-AI

    In system 40.1, with microcode 684, on LISP Machine Six:

    ;;When evaluated will work fine but when compiled will halt the machine
    (defun foo()
      (*catch 'bar ;;this must be here for the machine to halt.
          (do ()(())
    	(multiple-value (a b)
    	  (*catch 'baz (return nil))))))

I believe this compiles into instructions which are not yet implemented,
having to do with reformatting the stack in complicated ways.  Don't expect
this to work any time soon, it is difficult and doesn't seem to be seriously
hampering any users and consequently is very low priority.

Date: 14 SEP 1980 0132-EDT
From: ACW at MIT-AI (Allan C. Wechsler)
Subject: Blinking character mouse is pointing at
To: (BUG LISPM) at MIT-AI


While we're at it, maybe when the mouse is far from any text
nothing should be highlighted.  At present it finds the nearest
character to the mouse, no matter how far away it is.

And I still think there should be a way of hiding the mouse
completely.  Lower right corner is not invisible: it fucks
up the left end of the mode line.

   ---Wechsler

Date: 14 SEP 1980 0113-EDT
From: XCONOS at MIT-AI (Alec Destry)
To: (BUG LISPM) at MIT-AI

In system 40.1, with microcode 684, on LISP Machine Six:

;;When evaluated will work fine but when compiled will halt the machine
(defun foo()
  (*catch 'bar ;;this must be here for the machine to halt.
      (do ()(())
	(multiple-value (a b)
	  (*catch 'baz (return nil))))))


MOON@MIT-MC 09/13/80 23:19:01 Re: Copying new systems from one machine to another
To: info-lispm at MIT-AI
Apparently there have been several incompetently-installed new systems
recently.  If you want to know how to do this, read the file
AI:LMDOC;INSTAL NEWSYS.  After copying a band you must always compare
it to see if it copied correctly since there is a probably-hardware
bug which has not yet been found which frequently corrupts a band
that is being copied.

Date: 13 SEP 1980 1834-EDT
From: ECC at MIT-AI (Eugene C. Ciccarelli)
Subject:  Zwei's M-Q
To: (BUG LISPM) at MIT-AI

In system 32.2, with microcode 674, on LISP Machine Three:

I just noticed on two different paragraphs (at least) that M-Q
(Fill Paragraph) in Text mode was leaving the last line of the
paragraph too long.  Typing a Space after that line will fill it though.

For example, I now am in Auto Fill mode with Fill Column = 60
characters, or 520. pixels.  Typing M-Q on the above paragraph
left that last line too long.


Date: 13 SEP 1980 0410-EDT
From: cent at MIT-AI (Pandora B. Berman)
Sent-by: LSH at MIT-AI
Subject: cadr5 down
To: (BUG LISPM) at MIT-AI

i took cadr5 down to process into it a number of small ECOs that have
accumulated. i put ECOs into the IOB and DC, changed some sips
in the LMTV and the xbus terminator, and redid some cabling which
required taking the BUSINT out. now cadr5 doesn't seem to want to
work. i tried power cycling the disk (no change). then i followed 
the suggestion from RG on top of the cadr5 console to run 
cadr:(cc-run-mtest) from cadr3; this caused cadr3 to SLEEP 
intermittently and zeroed the cadr5 leds, but didn't help. also tried 
(cadr:cc-run-mtest), which said Main memory 0K then started SLEEPing 
like the previous iteration; this also zeroed the leds but didn't help
either.  in all cases, when cadr5 gets coldbooted the leds read 0.0313
all the boards and cables seem to be securely in.

no one with knowledge about how to fix this is around, so i am going to
turn the console power off again and leave things and hope someone
with such expertise will turn up tmw.

Date: 12 SEP 1980 1547-EDT
From: XCONOS at MIT-AI (Alec Destry)
To: (BUG LISPM) at MIT-AI

In system 40.1, with microcode 684, on LISP Machine Eleven:

(<- some-window ':set-cursorpos 5 5.5 ':character) loses so badly you get:

-->Error in the scheduler, using the cold load stream <--

>>>>TRAP 14750 (TV-ERASE-OFF-SCREEN)
The %DRAW=RECTANGLE function attempted to erase past the end of the screen.
While in the function TV:%DRAW-RECTANGLE-CLIPPED <- (METHOD TV:RECTANGULAR-BLINKER :BLINK)
<- (METHOD TV:RECTANGULAR-BLINKER :COMBINED :BLINK)



Date: 12 Sep 1980 1535-EDT
From: Dave Andre <DLA at MIT-EE>
Subject: Losing :SET-CURSORPOS
To: BUG-LISPM at MIT-AI

(<- random-window ':set-cursorpos 5 5.5 ':character)
Loses rather badly.  It causes an error in the scheduler,
evidently trying to blink a cursor.
(Systems 40.1, 38.1, etc)
-------

Date: 12 SEP 1980 1531-EDT
From: XCONOS at MIT-AI (Alec Destry)
To: (BUG LISPM) at MIT-AI

In system 40.1, with microcode 684, on LISP Machine Eleven:

Compiling any function which references either (ED) or (ZED) results in the
following:

>>>>TRAP 14237 (TRANS-TRAP)
The word #<DTP-TRAP 0> was read from 5711364 .

Date: 11 September 1980 23:46-EDT
From: Daniel L. Weinreb <DLW at MIT-AI>
Sender: DLW at CADR7 at MIT-AI
To: BUG-LISPM at MIT-AI

In system 40.1, with microcode 684, on LISP Machine Seven:
While ZMAIL was trying to parse a header, it called PARSE-DATE-AND-TIME-UNIVERSAL
on what appeared to be a legit date, although I am not sure, and apparently
called TIME-UNBREAK-UNIVERAL with a MONTH arg of 20, causing an AREF out of
bounds.  I am not sure I can describe how to reproduce this; find me and
I can try to make it happen again...

JLK@MIT-MC 09/11/80 09:22:58
To: (BUG LISPM) at MIT-MC
In system 40.1, with microcode 684, on LISP Machine Seven:
using the APROPOS function crashes the machine.  Specifically, I tried
(APROPOS 'CC-MEM)



Date: 10 SEP 1980 2320-EDT
From: CENT at MIT-AI (Pandora B. Berman)
Subject: monitor trouble
To: (BUG LISPM) at MIT-AI

cadr7 has an unhappy monitor (which happens to be a vmi); all evening
it has gotten glitches: random transitory horizontal lines going the
wrong color and then switching back. it looks sort of like a horizontal
version of the vertical pop the screen used to give when cold-booting,
but less severe. the glitching doesn't seem to affect anything, it just
happens. maybe this is statyic collecting somewhere? someone take a look,
please? although it doesn't have any permanent affect on screen or output,
it is disconcerting.

Date: 10 September 1980 13:03-EDT
From: Howard I. Cannon <HIC at MIT-MC>
To: SHIPMN at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 10 September 1980 00:17-EDT
    From: David W. Shipman <SHIPMN at MIT-AI>
    To:   BUG-LISPM at MIT-AI

    In system 36.2 spire, with microcode 683, on LISP Machine Twelve:

    I tried defining the following wrapper:

    (defwrapper (standard-parameter-window :set-cursor-pos) ((new-cursor-pos) . body)
     `(tv:lock-sheet (self)
        (cond ((equal cursor-pos ,new-cursor-pos))
    	  ((t ,@body)))))

    When I compiled the wrapper I got a "Warning: NEW-CURSOR-POS declared special" message.
    When I did the RECOMPILE-FLAVOR, I got a "NEW-CURSOR-POS is unbound" error.
    The args are apparently not getting expanded at the intended level.

    This defwrapper looks almost identical to the examples in the documentation and in the code,
    so I'm puzzled.
You don't want the , in front of the new-cursor-pos.  The variables specified
n that list are lambda-bound at EVAL time, not at macro expansion time.
There has been some confusion about this, and it is possible that it
leaked into documentation.


Date: 10 SEP 1980 0017-EDT
From: SHIPMN at MIT-AI (David W. Shipman)
To: (BUG LISPM) at MIT-AI

In system 36.2 spire, with microcode 683, on LISP Machine Twelve:

I tried defining the following wrapper:

(defwrapper (standard-parameter-window :set-cursor-pos) ((new-cursor-pos) . body)
 `(tv:lock-sheet (self)
    (cond ((equal cursor-pos ,new-cursor-pos))
	  ((t ,@body)))))

When I compiled the wrapper I got a "Warning: NEW-CURSOR-POS declared special" message.
When I did the RECOMPILE-FLAVOR, I got a "NEW-CURSOR-POS is unbound" error.
The args are apparently not getting expanded at the intended level.

This defwrapper looks almost identical to the examples in the documentation and in the code,
so I'm puzzled.

JLK@MIT-MC 09/09/80 19:26:59
To: (BUG LISPM) at MIT-MC
In system 40.1, with microcode 684, on LISP Machine Seven:
The FORMAT error code (invoked by encountering ~B) got an error that ~S is not defined.



Date: 9 September 1980 09:15-EDT
From: Howard I. Cannon <HIC at MIT-MC>
To: info-lispm at MIT-AI

World 40.1 is now available.  It includes support for using a TOPS-20
as a file computer, and knows about hosts SPEECH, EE, and XX, as well as
AI and MC.

In order to implement this, some major changes were made to the
internals of the file system, mostly dealing with filename parsing.
For internal reasons, a new package called FS (or FILE-SYSTEM) was
created, consisting of the files QFILE and FNUTIL.  Parsed filenames
are now instances.  Look at AI:LMIO;FNUTIL > for details.

If any of your code calls SI:FILE-EXPAND-PATHANME, SI:FILE-SET-FN2, or
SI:GET-FILE-SYMBOLS, it may no longer work.  We do not expect many
users to be calling these functions.  If you have problems converting,
MMCM or I (HIC) would be happy to help you.

Of course, the only way that the new TOPS-20 file job will get fully
tested is by use.  It seems to work well enough to read and write both
text and binary files.  Some of the more esoteric features have not
yet been tested.  Please report any bugs giving as much information as
possible to BUG-LISPM.


Date: 8 September 1980 20:59-EDT
From: Mike McMahon <MMcM at MIT-AI>
Sender: MMcM at CADR6 at MIT-AI
To: BAK at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date:  8 SEP 1980 1517-EDT
    From: BAK at MIT-AI (William A. Kornfeld)
    In system 38.1, with microcode 684, on LISP Machine Five:
    When calling the editor menu with mouse-right-once, the mode line hangs
    in "screen deex" and cannot be revived in any obvious way.  This happened
    without reading in any init file.  Warm booting also fails.
That load was badly corrupted, apparently whoever copied it over didn't check
for errors.  I have fixed it up.

Date: 2 September 1980 19:34-EDT
From: Eric J. Swenson <EJS at MIT-MC>
Subject:  Suggestion for commenting brackets like /*...*/
To: Guy.Steele at CMU-10A
cc: "ALAN (ALAN BAWDEN)ALAN (ALAN BAWDEN)" at MIT-MC, BUG-LISP at MIT-MC, NIL at MIT-MC,
    BUG-lispm at MIT-AI



How about just /* .... */?  It looks nice.


Date: 2 September 1980 13:56-EDT
From: Mike McMahon <MMcM at MIT-AI>
Sender: MMcM at CADR7 at MIT-AI
To: JLK at MIT-MC
cc: BUG-LISPM at MIT-MC

    JLK@MIT-MC 09/02/80 05:27:25
    Typing BREAK while on a TELNET connection to MULTICS results in an
    illegal TELNET code error (on Multics).  It makes it hard to break
    out of anything.
This is the usual confusion having to do with so many meanings for
BREAK.   On a hard-wired Multics terminal, break generates a QUIT.  To
get this from an NVT, Multics expects IAC IP (Interrupt Process).  To
get the LISP Machine TELNET to send this, type [CALL] (naturally
enough).  To get ITS TELNET to send this, type [BREAK] A.  There is also
this NVT ASCII code called IAC BRK, which Multics does not understand.
You get it when you type [BREAK] [BREAK] or [ABORT] from the LISP
Machine, or [BREAK] B from ITS TELNET.  Of course, things are further
confused because the escape key is labelled "BREAK" on your terminal.
(And then, there's the break-loop you get when you type [BREAK] B, and
so on and so on...)
		      It would be nice to have a line editor when
    talking to Multics also....
Perhaps i will get ambitious and implement the previously discussed
single-line version of the editor.


Date:  2 September 1980 1047-EDT (Tuesday)
From: Guy.Steele at CMU-10A
To: ALAN at MIT-MC (Alan Bawden)
Subject:  Suggestion for commenting brackets like /*...*/
CC: bug-lisp at MIT-MC, nil at MIT-MC, bug-lispm at MIT-AI
In-Reply-To:  ALAN@MIT-MC's message of 1 Sep 80 05:37-EST
Message-Id: <02Sep80 104708 GS70@CMU-10A>

I'm not sure that I am entirely thrilled by the suggestion, but let
me suggest that #|...|# would cause the least trouble, because editors
and things already understand |...|.
#| Don't you think
   this looks like a nice
   multi-line comment? |#

JLK@MIT-MC 09/02/80 05:27:25
To: (BUG LISPM) at MIT-MC
In system 38.1, with microcode 684, on LISP Machine Seven:
Typing BREAK while on a TELNET connection to MULTICS results in an
illegal TELNET code error (on Multics).  It makes it hard to break
out of anything.  It would be nice to have a line editor when
talking to Multics also....



Date:  1 SEP 1980 1035-EDT
From: JLK at MIT-AI (John L. Kulp)
To: (BUG LISPM) at MIT-AI

It is totaly bletcherous user engineering that every time the file system has
a problem in programs like the editor or zmail, that you get into the error
handler.  Its even worse when the problem happens in a background proces
and your world gets completely wedged.  I guess this is a pretty fundamental
problem, but it is the most frustrating thing I find using these machines.

In addition, the file system seems to be getting frequently wedged lately,
saying it can't connect to a machine when one can supdup to it fine and
the systems are lightly loaded, as they are now.  This happens on several
machines (but I happen to be on CADR 7, System 38.1 at the moment).

Date: 31 AUG 1980 0610-EDT
From: TK at MIT-AI (Tom Knight)
To: (BUG LISPM) at MIT-AI

Error handler comments:
retry successfully retries, but fails to switch screens out of the error handler

recursive errors are handled ok, but it took me a while to find out about <meta>Z
Seems to me that <control> Z should just pop the one level back to the window
handler.  I only get screwed not helped by the current behavior of <control> Z

There ought to be a way to get sources in the top window (of course, everyone says).

Another possibly useful feature would be a warning associated with functions
on the stack, indicating which, if any, were compiled from non-current files.  I
got screwed twice recently by tracking down already fixed bugs, and this would
have at least warned me that someone had changed the world from under me.

I think mousing objects in the bottom part of the screen should inspect them, rather
than just typing them out.  There should be a way to mouse an object in order
to specify it as an argument to a function call you are typing (other than the kludge
of setq'ing something to * after mousing it).

On another note, I realize it is unclear what you want to do, but when I enter
the editor with <system>E, it never seems to get me back to where I want to be when
I exit it.

Date: 30 August 1980 17:49-EDT
From: Howard I. Cannon <HIC at MIT-MC>
To: XCONOS at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 30 August 1980 16:30-EDT
    From: Alec Destry <XCONOS at MIT-AI>
    To:   BUG-LISPM at MIT-AI

    Subject: unnecessary system changes.

      I have noticed over the past month or so a couple of
    not so useful system changes.
      One had to do with the :set-cursorpos message sent to a
    stream.  In system 29.95NWS it had this format:

      (funcall foobar-stream  ':character column line)
                              (or ':pixel)
      Get to system 30 and above it has this format:

      (funcall foobar-stream column line ':character)
The second format has always worked, while the first was only for compatibility
with the old system.  You should not have being using it in the first place.


      The second occurence has to do with tv:%draw-line.  In
    system 32.2 it has six arguments but in later systems it
    has seven arguments.  This time all my programs are broken.
    True it is easy enough to change but then I have to choose
    which lisp machine I want to work on.  This time I really
    have to choose cause there is no real enthusiasm to update
    to the latest system.
You probably should not be using the subprimitives.  Though sometimes
their use is indicated, usually it is not, and should instead be done by
sending messages to the stream.  The extra argument to %draw-line fixed a
very serious deficiency in the algorithm, and thus is certainly not gratuitous.


Date: 30 AUG 1980 1630-EDT
From: XCONOS at MIT-AI (Alec Destry)
To: (BUG LISPM) at MIT-AI

Subject: unnecessary system changes.

  I have noticed over the past month or so a couple of
not so useful system changes.
  One had to do with the :set-cursorpos message sent to a
stream.  In system 29.95NWS it had this format:

  (funcall foobar-stream  ':character column line)
                          (or ':pixel)
  Get to system 30 and above it has this format:

  (funcall foobar-stream column line ':character)

  Such a change I my view did nothing to eliminate bugs
while at the same time it broke a couple of my programs.
True it was easy enough to fix but then the problem is
I have to choose which lisp-machines I want to work on
since some have the old system and some have the new.  In
this particular case that wasn't too bad since everyone
wanted to get rid of systems 29 and below.

  The second occurence has to do with tv:%draw-line.  In
system 32.2 it has six arguments but in later systems it
has seven arguments.  This time all my programs are broken.
True it is easy enough to change but then I have to choose
which lisp machine I want to work on.  This time I really
have to choose cause there is no real enthusiasm to update
to the latest system.

  In my view it is better to avoid such changes.

Date: 30 AUG 1980 1330-EDT
From: JLK at MIT-AI (John L. Kulp)
To: (BUG LISPM) at MIT-AI

Forget last comment about 2 file jobs.
I was looking at 2 chaos connections.

Date: 30 AUG 1980 1327-EDT
From: JLK at MIT-AI (John L. Kulp)
To: (BUG LISPM) at MIT-AI

When I cold boot CADR1 with system 37.1, ucode 684, do (login'jlk t) then
(load ...) some file from AI, I get ARRAY LEADER NIL was of wrong type error.
in CHAOS:SEND-PKT.

Also, I notice that once a the file process gets an error (which is frequently today
for some reason) there seems to be no way to unwedge your machine.

Date: 30 AUG 1980 1324-EDT
From: JLK at MIT-AI (John L. Kulp)
To: (BUG LISPM) at MIT-AI

I don't know if this is real or not, but I was sitting in PEEK on AI looking
at file jobs getting established.  I watched 5 LISP machines in action, and
every time they always opened 2 file jobs.  WHen I checked how many io channels
they had open, there were none.  Is this the normal state of affairs or is
there some lossage?

Date: 27 AUG 1980 2104-EDT
From: cpr at MIT-AI (Christopher P. Ryland)
To: (BUG LISPM) at MIT-AI

In system 38.1, with microcode 684, on LISP Machine Ten:

Using C-X O in a one-window ZWEI dies with a NIL being passed in place of an array.
It's pretty easily reproduceable, I hope.


Date: 27 AUG 1980 0654-EDT
From: RMS at MIT-AI (Richard M. Stallman)
To: (BUG LISPM) at MIT-AI

Lots of lossage happens when PACKAGE gets set to a random object.

I just fixed the bug whereby the error handler would get an error.
But there are others.

First of all, if you are in a Lisp listener,
even though the error handler would set the package
to something winning and give you a chance to set
it permanently, you can't get into the error handler.
If the lisp listener is doing a read, then the errors
just print a message and invite you to rub out.
This is nice, except that there is no way to get
a chance to type commands at the error handler to fix anything.
I suppose that typing (1) might get into the error handler.

Warm booting tries to fix up the package, but it loses
because some background process usually manages to run
and halt the machine before LISP-REINITIALIZE fixes it.
It prints "the process such-and-such got an error"
and halts without printing anything more.
Shouldn't scheduling be off until LISP-REINITIALIZE
has got far enough to want it to be on again?
The problem happens with different background processes
on each occasion.  Supposedly the screen-manager, the kbd process,
and the chaos-background process have all been seen to do this.

Date: 27 AUG 1980 0639-EDT
From: RMS at MIT-AI (Richard M. Stallman)
Sent-by: TESTP at MIT-AI
To: (BUG LISPM) at MIT-AI

In system 36.2, with microcode 684, on LISP Machine Four:

I just got through fixing a bug in LISPM2;EH >
and then discovered that it is no longer installed.

Why don't you flush files that are not installed, or move them away,
because if you don't there is nothing to tell me, when I look at an old
file, that that file is obsolete.


Date: 27 AUG 1980 0423-EDT
From: MOON at MIT-MC (David A. Moon)
Subject: ASCII function
To: DLA at MIT-EECS
CC: (BUG lispm) at MIT-AI

    Date: 25 Aug 1980 2200-EDT
    From: Dave Andre <DLA at MIT-EE>
    Subject: ASCII function
    To: bug-lispm at MIT-AI

    The ascii function interns its result in the current package,
    not the USER package as the documentation says.

The documentation is incorrect.  The ascii function must intern in the
current package in order for Maclisp programs (probably the only ones
that use it) to work compatibly.

Date: 27 AUG 1980 0345-EDT
From: XCONOS at MIT-AI (Alec Destry)
To: (BUG LISPM) at MIT-AI

 System 38.1, microcode 684.
 2 different bugs.

  1- The variable package accidently got set to some random value!! and
the machine just continued running in some kind of infinite loop without
interrupts. (nothing else was running).  When I warm booted I got the following
below where I had last typed: [top process got an error], none of the processes
were flushed (the keyboard and mouse still worked) and it did not set package
back to something reasonable.

  2- The listing for the editor on the mouse select menu is double.  This also
happens when I create a new editor window.  Along the same line, when I create
a frame I get in the mouse select menu a whole bunch of listings for each of
my panes.  Wouldn't it be better if I could get just one listing for my frame?

Date: 25 August 1980 23:08-EDT
From: Mike McMahon <MMcM at MIT-AI>
Sender: MMcM at CADR8 at MIT-AI
Subject: EMACS dies
To: Kulp at MIT-MULTICS
cc: BUG-LISPM at MIT-AI, Greenberg at MIT-MULTICS

    Date:     25 August 1980 0942-edt
    From:     Kulp at MIT-Multics
    Subject:  EMACS dies
    To:       Greenberg.Symbolics, BUG-LISPM at MIT-AI
    
    When I telnet to Multics from a LISP machine and run EMACS, it asks me
    what type of terminal I have.  I'm not sure what the right thing is or
    what the LISP machine claims to support (it should support supdup_output
    presumably) but when I answered the question by saying "supdup" it died
    in LISP with a wrong type arg error.
TELNET now supports SUPDUP-OUTPUT, as you apparently thought it did.  I notice
that Multics Emacs does not use region scrolling, as it should if the appropriate
smarts bit is set.

Also, your headers above are not legal, there is no hostname on one of the addresses.

Date: 25 Aug 1980 2200-EDT
From: Dave Andre <DLA at MIT-EE>
Subject: ASCII function
To: bug-lispm at MIT-AI

The ascii function interns its result in the current package,
not the USER package as the documentation says.
-------

Date: 25 AUG 1980 1025-EDT
From: DHD at MIT-AI (David Hodgson Dennis)
Subject:  Quick but unofficial answer to your question
To: Kulp at MIT-MULTICS
CC: (BUG LISPM) at MIT-AI

[No doubt you will get an official answer to this question later.  However, as it
may not be for a while, i decided to throw my $0.002 in.  Hope no one minds.  -dhd]

Actually, telnet on the lisp machine doesn't support supdup_output; the closest
you can get is to say (telnet 'multics t), which will emulate an IMLAC.  If
Multics EMACS has support for IMLACs, then you're all set (but with only about
3/4 the normal LISPM screen size).

Unfortunatly, I wouldn't tend to think that Multics EMACS would support them
because the only ones I know of are connected to ITS and therefore supported through
supdup_output.  

Unfortunatly for you, I don't think many people who use lisp machines use Multics 
frequently enough to justify putting Multics-specific code in their telnet program.
Note that there is precious little incentive to do this because the supdup_output
code on ITS works quite well (or so I've heard).

If you're addicted to the large screen size of the LISP machine and/or can't find a free
TV, you can always supdup to AI and telnet to Multics.  This is somewhat less efficient 
then streight telnet, but better then no supdup at all.

				- David


Date:     25 August 1980 0942-edt
From:     Kulp at MIT-Multics
Subject:  EMACS dies
To:       Greenberg.Symbolics, BUG-LISPM at MIT-AI

When I telnet to Multics from a LISP machine and run EMACS, it asks me
what type of terminal I have.  I'm not sure what the right thing is or
what the LISP machine claims to support (it should support supdup_output
presumably) but when I answered the question by saying "supdup" it died
in LISP with a wrong type arg error.

Also, why does it not work to send mail to Liaison from EMACS but it
works using send_mail?  Is it a special crock in send_mail or something?


Date: 25 AUG 1980 0301-EDT
From: XCONOS at MIT-AI (Alec Destry)
To: (BUG LISPM) at MIT-AI

In zmail use the summarize option.  Go to the top window (the one with all
the message summaries in it) and use the scroll bar.  You get:

-->Error in the mouse process, using the cold load stream<--

>>>>TRAP 14755 (TV-ERASE-OFF-SCREEN)
The %DRAW=RECTANGLE function attempted to erase past the end of the screen.
While in the function TV:SCROLL-BAR-DRAW <- (:METHOD TV:BASIC-SCROLL-BAR :HANDLE-MOUSE-SCROLL)
 <- TV:MOUSE-DEFAULT-HANDLER

TV:SCROLL-BAR-DRAW
->

Date: 25 AUG 1980 0151-EDT
From: DLW at MIT-AI (Daniel L. Weinreb)
Subject: Documentation
To: INFO-LISPM at MIT-AI

Have you ever tried to find out something by looking in the Lisp
Machine Manual and not found what you were looking for?  Whenever this
happens, I would greatly appreciate if you would drop a note to
BUG-LMMAN.  Thank you.

(Please don't bother to report things that the manual does not
*purport* to document, such as the new window system and software
written since the manual was published; I already know about all that.)

Date: 25 AUG 1980 0130-EDT
From: XCONOS at MIT-AI (Alec Destry)
Sent-by: ___004 at MIT-AI
To: (BUG LISPM) at MIT-AI

    It seems if you play with zmail (system m) for more than about 10.
minutes and especially if you try to save files the process gets hung with
in process-lock.  If you remove the lock, it later gets an error saying you
are trying to unlock a cell you don't have locked.

MOON@MIT-MC 08/24/80 20:28:18 Re: ASH problem
To: HIC at MIT-MC
CC: (BUG LISPM) at MIT-MC
I understand what the microcode bug is.  It turns out that ASH of a bignum
by a non-zero multiple of 31. bits has never worked because it calls a
subroutine with the wrong arguments.  Unless it's an emergency I won't fix
this until I get back since the fix is complicated and there aren't any
keyboards on the West coast.

Date: 24 AUG 1980 0524-EDT
From: DLW at MIT-AI (Daniel L. Weinreb)
To: (BUG LISPM) at MIT-AI

If you use the EVAL server to use a LispM remotely, FINGER will show
you as logged in with a very high idle time, even if you are not
idle.

MOON@MIT-MC 08/24/80 04:46:02 Re: SYS:ACTIVE-PROCESSES
To: (BUG LISPM) at MIT-MC
Probably there should be two versions of this, the existing one for the scheduler
which only contains runnable non-arrested processes, and a second one for everyone
else which contains all processes (there should be activate and deactivate messages
to processes which put them on and take them off that list.)

MOON@MIT-MC 08/24/80 04:42:13 Re: 
To: (BUG LISPM) at MIT-MC


Date: 24 AUG 1980 0039-EDT
From: RMS at MIT-AI (Richard M. Stallman)
To: MOON at MIT-AI, (BUG LISPM) at MIT-AI

I could not use the PEEK process display because the process
I wanted was not active any more when I ran PEEK.
I am not sure exactly why this was.

MOON@MIT-MC 08/23/80 22:17:11 Re: Getting into the error handler on the editor process
To: RMS at MIT-AI
CC: (BUG LISPM) at MIT-MC
Type esc break or use the menu obtained by clicking Right in PEEK's 
process display.

ALAN@MIT-MC 08/23/80 04:45:16 Re: defstruct query
To: INFO-LISPM at MIT-MC
(Sorry about the empty message I just sent to you all, but this
keyboard has a key labeled "CALL" in the upper right corner that sends
a control-C.)

Does anyone use the obscure feature of defstruct where if you say:

(defstruct (foo)
	   ((mumble 1010 234 (mumble-a mumble-b mumble-c))))

defstruct expands into code including:

(setq mumble-a 0
      mumble-b 1
      mumble-c 2)

???

I would like to flush this bit of syntax in favor of allowing a
keyword options list in each slot (so you can specify type information
etc. in an entendable way).  I can still support the feature if anyone
really insists, but it would be nice in any case if they could be
convinced to convert their defstructs to a new format.

(I suspect there may be a better way of solving whatever problem this
feature is addressing anyway, so I would like to hear from whoever is
using it.)

ALAN@MIT-MC 08/23/80 04:10:23
To: INFO-LISPM at MIT-MC


Date: 23 AUG 1980 0249-EDT
From: RMS at MIT-AI (Richard M. Stallman)
To: (BUG LISPM) at MIT-AI

In system 37.1, with microcode 684, on LISP Machine Seven:

The editor was looping, so I hit call and then called EH on the editor
process, which I had found in CURRENT-PROCESS when it was running
and saved where I could get it later.

Inside EH I evalled something which hung up waiting for a lock,
so I typed ABORT.  This got me out of EH altogether, which is
probably not the right thing.  It ought to abort the foothold
evaluation and go back to EH, if done while a gfoothold evaluation
is happening.  A second ABORT then could be used to get back all the way.
As it is, there is no way to abort the foothold computation and stay
in EH.

Aside from that, it left things wedged.  I decided to reset the
editor and try some more things inside that process, so I said
(ed) intending to ABORT it.  However, I found that it was still
arrested from the EH.  Aborting the EH had failed to undo the arrest.

Luckily I guessed that by entering EH on it again and exiting normally
I could remove the arrest reason.


Date: 23 AUG 1980 0227-EDT
From: RMS at MIT-AI (Richard M. Stallman)
To: (BUG LISPM) at MIT-AI

In system 37.1, with microcode 684, on LISP Machine Seven:

There is no easy way for me to get my hands on a process and run EH on
it.  The process is the editor, which was looping.

I suppose there is some variable which contains it but I can't guess the
name, and it is hard to find it if I can't use the editor.  In any case,
it should not be necessary to know it.  It should be possible to do this
from the PEEK W mode display, or from the system menu.

One problem is that if I type CALL to get a Lisp listener, for some
reason the editor process is no longer active.  Maybe this is a feature,
but it means I can't find the process on ACTIVE-PROCESSES.

If the PEEK W mode made it easy to get a window out and operate on it
with Lisp code, that would be more useful.  Perhaps PEEK W mode really
ought to live in the inspect window rather than in PEEK.  I might have
been able to find it with the inspector after several steps, but I
didn't know where to start.  In any case, a display of the window hierarchy
with each window available for inspection would be a useful addition to
the inspector.

I'm sure a person familiar enough with the insides of NWS could have
found it, but I don't think that is the answer.


Date: 23 AUG 1980 0149-EDT
From: RMS at MIT-AI (Richard M. Stallman)
To: (BUG LISPM) at MIT-AI

In system 37.1, with microcode 684, on LISP Machine Seven:

M-L in the error handler frequently displays more than a screenfull of
macroinstructions.  This happens at times when the locals are less
than half height the screen.


Date: 22 AUG 1980 2316-EDT
From: HIC at MIT-AI (Howard I. Cannon)
To: (BUG LISPM) at MIT-AI

(ash (ash 1 123.) -62.)
produces a completely trashed bignum.

(ash (ash 1 61.) -31.)
produces zero.

BUG!

Date: 20 AUG 1980 1207-EDT
From: RICH at MIT-AI (Charles Rich)
To: (BUG LISPM) at MIT-AI

In system 36.2, with microcode 683, on LISP Machine Eight:

(PKG-LOAD 'FOO '(:NOCONFIRM :COMPILE))

asks for confirmation twice - once to compile the DEFS in the package,
and again to compile the rest of the package.  This makes it impossible
to walk away from the console while this is running.

Also, relevant to being able to run compilations unattended, is there some
way to suppress printing of compiler messages (for both PKG-LOAD and QC-FILE)
in the current window, since they go to the Compiler Warnings buffer anyways?

	Thanks, Chuck.


Date: 20 AUG 1980 0900-EDT
From: TAFT at MIT-AI (Jonathan D. Taft)
To: (BUG LISPM) at MIT-AI

Someone should keep the file LMDOC;INSTAL NEWSYS up to date or else
we will fool people. If not then that file should be flushed. It
currently has the wrong set of functions and claims 26.3 MCR 616 to
be the current good things.

MOON@MIT-MC 08/20/80 01:03:01 Re: Named Structures
To: RICH at MIT-AI
CC: (BUG LISPM) at MIT-AI
    Date: 19 AUG 1980 1541-EDT
    From: RICH at MIT-AI (Charles Rich)

    The form (DEFSTRUCT (foo (:named bar)) ...)

    does not work as documented.
On the contrary, the :named option is not documented at all in the printed
version of the manual and in the on-line version (which will become the
next printed version) is documented not to allow an argument.  Evidently
it isn't checking for you giving it an argument anyway and is simply ignoring
it.

Once, long ago, there was a :named-structure option which accepted an argument,
however giving it an argument never worked properly so it was flushed.
The name of the option was changed when this and certain other
incompatible changes were made.

Making the named-structure name different from the defstruct name will
break a number of programs and so is not allowed by defstruct.  If you really
must do it you are of course free to ASET or STORE-ARRAY-LEADER anything
you like into that slot when you create the object.

Date: 19 AUG 1980 1541-EDT
From: RICH at MIT-AI (Charles Rich)
Subject:  Named Structures
To: (BUG LISPM) at MIT-AI

In system 36.2, with microcode 683, on LISP Machine Eight:

The form (DEFSTRUCT (foo (:named bar)) ...)

does not work as documented.  BAR is supposed to be come the named structure
symbol, but FOO does.


Date: 19 Aug 1980 10:31 PDT
From: Deutsch at PARC-MAXC
Subject: Re: Non-standard toplevel printing
In-reply-to: Your message of 18 AUG 1980 1955-EDT
To: RICH at MIT-AI (Charles Rich)
cc: BUG-LISPM@MIT-AI

I had exactly the same problem.  I would recommend that all system printing
facilities (debugger, TRACE, etc.) go through the PRIN1 variable just like the
toplevel.


Date: 19 August 1980 09:43-EDT
From: Charles Rich <RICH at MIT-AI>
Sender: RICH at CADR8 at MIT-AI
Subject: non-standard printing
To: MOON at MIT-AI, RICH at MIT-AI
cc: BUG-LISPM at MIT-AI



Date: 19 AUG 1980 0105-EDT
From: SHIPMN at MIT-AI (David W. Shipman)
To: (BUG LISPM) at MIT-AI

In system 36.2 spire, with microcode 683, on LISP Machine Twelve:

Shouldn't there be a call to (ERASE-LABEL) in the :SET-NAME method as shown below?
At any rate, my labels are getting trashed and that's the reason why.



(DEFMETHOD (CHANGEABLE-NAME-MIXIN :SET-NAME) (NEW-NAME)
  (LET ((LABEL-EQUALS-NAME (AND LABEL (EQ (LABEL-STRING LABEL) NAME))))
    (SETQ NAME NEW-NAME)
    (COND (LABEL-EQUALS-NAME
	   (erase-label) ; <-------
	   (SETF (LABEL-STRING LABEL) NEW-NAME)
	   (DRAW-LABEL)))))



Date: 18 AUG 1980 2158-EDT
From: MOON at MIT-AI (David A. Moon)
Subject: non-standard printing
To: RICH at MIT-AI
CC: (BUG LISPM) at MIT-AI

Two suggestions:

The wrong way- save the function definition of PRIN1 in a way that can't fail:
  (and (not (fboundp 'original-prin1)) (fset 'original-prin1 (fsymeval 'prin1)))
then redefine PRIN1 and don't use the value cell of PRIN1.

The right way- make your structures named-structures (see DEFSTRUCT in the manual)
or flavor instances (see the file LMMAN;FLAVOR) so you can control how they print
and stop redefining PRIN1.

Date: 18 AUG 1980 1955-EDT
From: RICH at MIT-AI (Charles Rich)
Subject:  Non-standard toplevel printing
To: (BUG LISPM) at MIT-AI

I have found it extremely convenient to use a non-standard toplevel printer
(because my program throws around a lot of structures, only one field of
which i usually want to see).  I setq PRIN1 to my special printer to do
this (this printer is able to inspect things recursively to tell what to do).
This is very nice.

Unfortunately, setting PRIN1 does not seem to affect what printer is used
in the toplevel of the debugger, or by TRACE to print out argument values,
or any number of other system utilities.  It would be very nice if some
of these would listen to PRIN1 or some other switch -- especially the
toplevel in the debugger.

I tried just redefining the function definition of PRIN1, but got myself
into an infinite wedge because my special printer eventually falls through
to PRIN1 -- I suppose on loading time I could have the special printer
gobble the old definition and hide it away, but this seems a little unmodular
and prone to error if the printer is loaded twice.

Any advice and suggestions appreciated -- Thanks, Chuck.


Date: 18 AUG 1980 1825-EDT
From: RICH at MIT-AI (Charles Rich)
Subject: Debugger
To: (BUG LISPM) at MIT-AI

It would be nice if there were a version of control-N,P which went to the
next NAMED function on the stack.  Typically with all the macros like
LET and LET* I find I have to step through several unreadable levels
before I find out what function I am in.  This would also be useful
as preparation for control-E.
	Thanks, Chuck.


Date: 18 AUG 1980 1219-EDT
From: Nis at MIT-AI (H. Keith Nishihara)
To: (BUG LISPM) at MIT-AI

the problem with long lines in zmacs of previous message was in system 34.1 on cadr1


Date: 18 AUG 1980 1217-EDT
From: Nis at MIT-AI (H. Keith Nishihara)
To: (BUG LISPM) at MIT-AI

in zmacs loading a file with a very long text line
like lispm1;ucadr 678sym
and then attempting to do a  C-N over that line causes an error with the message

recenter type POINT outside the window ... 

from which i didnt know how to recover -- keith


Date: 14 August 1980 23:45-EDT
From: Robert W. Kerns <RWK at MIT-MC>
Subject:  SETF clarification
To: JONL at MIT-MC
cc: KMP at MIT-MC, BUG-LISP at MIT-MC, BUG-LISPM at MIT-MC

As the leading advocate of returning the value like SETQ, I have written much
code assuming that it returns the value like SETQ.  I don't know exactly how
much of it actually DOES use it, I don't use it any more than I use the return
value from SETQ.  But I'd rather be able to write (PRINT (SETF foo bar))
than (LET ((BAR bar)) (SETF foo BAR) (PRINT BAR)), just like I'd rather do the
same with SETQ.  I believe it to be more readable; brevity can HELP
readability! 

Date: 14 August 1980 21:33-EDT
From: Carl Hewitt <CARL at MIT-AI>
Subject:  Displaying Percent time spent in page wait
To: BUG-LISPM at MIT-AI

It would be useful if the mode line continually
provided this information.

Cheers,

Carl

Date: 14 AUG 1980 1940-EDT
From: mbm at MIT-AI (Michael B. McIlrath)
To: (BUG LISPM) at MIT-AI

I dont know if this is a lispm bug, a remote host software bug, or a chaos net protocol
prbolem, but sometimes when I do

	(telnet 'xx t)

the connection appears "half duplex"; i.e., local echo is still on.  There doesnt seem
to be a telnet command to change this.  It happens maybe 10% of the time or less, and
I cant reproduce it.

--mike


Date: Thursday, 14 August 1980  16:08-EDT
From: Chris Ryland <CPR at MIT-EE>
To: MOON at MIT-MC
cc: (BUG lispm) at MIT-AI
Subject: Slow tracking of mouse

    MOON@MIT-MC 08/14/80 15:48:35 Re: Slow tracking of mouse
    Note that moving the mouse out of a pop-up menu before it appears if you've
    changed your mind won't work because the menu won't go away until the mouse
    has been in it and left again and it won't notice it's been in it until
    after it appears on the screen.
No, I was in it, and moved out very quickly, wanting to go to the
opposite corner of the screen.  I guess there's bound to be some delay
in ZWEI's picking up mouse tracking since the pop-up menu has to be
disposed of somehow.  Maybe true multiprocessing is what's needed so
the pop-up menu can go away in the background while ZWEI picks the
mouse right up (small joke, heh?)

CPR@MIT-MC 08/14/80 16:04:34
To: (BUG LISPM) at MIT-MC
In system 36.2, with microcode 683, on LISP Machine Ten:
I was telnetting to EE when a pop-up QSend beeped at me and started frobbing
around in the background for a few seconds; I went ahead and kept typing at
the telnet, and eventually a notification window came up saying there was some
error in the Send background process.  The sender re-sent the message, and
a pop-up window then appeared saying there was a message waiting for a QSend
window.  I then mouse-selected the Send Background Process window, and an
error-trap appeared there saying something like SUPDUP-TYPEOUT wasn't bound;
Z'ing that let the QSend through.  I think someone was confused about
process context during the initial QSend setup (?)



MOON@MIT-MC 08/14/80 15:48:35 Re: Slow tracking of mouse
To: CPR at MIT-AI
CC: (BUG lispm) at MIT-AI
There are two effects here.  One is that the mouse is tracked by a
process, written in ordinary Lisp code, rather than, say, microcode.
This means that it can be substantially delayed by paging.  With 128K
the mouse process can easily get paged out if you don't move the
mouse for a while.  No matter how much memory you have, when moving the
mouse into a new window it has to page in data structure associated with
that window, since windows control the mouse when it is in them.

The other effect is that certain things such as pop-up menus "warp" the mouse.
When a menu appears it gets the position of the mouse, then works on appearing
there, then moves the mouse back to there, eliminating any motion you've
done in the meantime.

Note that moving the mouse out of a pop-up menu before it appears if you've
changed your mind won't work because the menu won't go away until the mouse
has been in it and left again and it won't notice it's been in it until
after it appears on the screen.


Date: Thursday, 14 August 1980  10:50-EDT
From: Chris Ryland <CPR at MIT-EE>
To: bug-lispm at ai
Subject: suggestion

How about adding a top-level (or Edit level) menu item called "Prod"
or somesuch that lets you mouse a window, asks that window for its
repetoire, and lets you Zwei-filter-construction-like compose a
message to send it.  At least it could let you mouse one of the
operations and type an argument for the message.  Is this generally
useful?  I haven't used the LISPMs enough to know, but it seems it
would be, given the message-based flavor system and the display
orientation of the system.

Date: 14 AUG 1980 0732-EDT
From: CPR at MIT-AI (Christopher P. Ryland)
To: (BUG LISPM) at MIT-AI

In system 36.2, with microcode 683, on LISP Machine Ten:
Suggestion: when in a buffer selection (gotten to via initial menu Select option),
display a little screen image (like in split screen setup mode) next to the
menu, which outlines the basic shape of each possible selectee, since it's much
easier to remember which window is which (eg, PEEK-3 vs PEEK-1) according to its
size and position.


Date: 14 AUG 1980 0729-EDT
From: CPR at MIT-AI (Christopher P. Ryland)
To: (BUG LISPM) at MIT-AI

In system 36.2, with microcode 683, on LISP Machine Ten:
Suggestion, not really a bug: it's quite annoying to have the mouse ignored at ANY
time; for example, I clicked right in ZWEI, and moved the mouse off the popup menu
quickly, heading for the upper left corner (menu's in lower right) since I changed
my mind, and the mouse position was ignored for more than a second, it seems.
I.e., I had to roll it several times before it began to move up (it did move off
the menu quickly).  Is this simply a function of 128K memory?  Or a ZWEI tracking
slowness vs a general problem?


Date: 14 AUG 1980 0130-EDT
From: cent at MIT-AI (Pandora B. Berman)
Subject: crufty keyboard
To: (BUG LISPM) at MIT-AI

i think this might have been complained about before, but maybe saying
it again will get something done (hope, hope?): the new keyboard in 936
not only has a knob in the middle right below the space bar, it also has
a left CRTL key which often (usually?!) doesn't work. this makes use of
the keyboard most frustrating, as one must either take note when typing
left ctrl to check that it does a crtl, and delete and redo the command
if it doesn't, or remember to use the right ctrl key all the time, which
i for one am very unused to. can this be fixed?

Date: 14 August 1980 00:21-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject: SETF clarification
To: JONL at MIT-MC
cc: BUG-LISP at MIT-MC, BUG-LISPM at MIT-MC

    Date: 14 AUG 1980 0004-EDT
    From: JONL at MIT-MC (Jon L White)

    I believe the first LISPM implementations of SETF were explicitly
    described to have "undefined" value ...

This is still true on the LispMachine.  There is no plan to change the
way SETF works as far as I know.  

Date: 14 AUG 1980 0004-EDT
From: JONL at MIT-MC (Jon L White)
Subject: SETF clarification
To: KMP at MIT-MC
CC: (BUG LISP) at MIT-MC, (BUG LISPM) at MIT-MC

I believe the first LISPM implementations of SETF were explicitly
described to have "undefined" value -- mostly because of the random
nature of the code produced by the SETF expanders.  While it might
be desirable to standardize someday on a useful value, I'd be curious
to hear of anyone who has much code written depending on the return
value from SETF.  The BMT incident shows that likely he would get
varying results when running such code.


JW@MIT-MC 08/13/80 02:38:59
To: (BUG LISPM) at MIT-MC
Is there any function on the Lisp Machine analagous to (RUNTIME) on MC?
(e.g. SOmething that will show me how long a function is running in CPU time,
so I have an idea of how well "improvements" are going).

		Thanx--

			JW 


Date: 12 AUG 1980 1218-EDT
From: GLS at MIT-AI (Guy L. Steele, Jr.)
Subject: Ignored Variables
To: (BUG LISP) at MIT-AI, (BUG LISPM) at MIT-AI

Presumably the only reason for explicitly mentioning that
a variable is ignored is for error-checking, so that the compiler
will not print the warning message if you're sure that the
variable is supposed to be ignored.  Why not extend this
error-checking to the interpreter?
The use of () (or IGNORE, for that matter, though IGNORE is
mroe readable in my opinion) as a LAMBDA-variable I find
unacceptable as a general mechanism, because it doesn't let me
assign my own name to the ignored thing.  Often ignored variables
arise in a situation where a function is called by some dispatching
mechanism (e.g., fetching from a property list), and so I want all
the LAMBDA-lists of the possible functions to look the same, because
they are conventionally passed a standard set of arguments which
have a standard set of names, but not all the dispatch possbilities
use all the arguments.  (As an example of this, consider the command-
handlers for FORMAT.)  I want to retain the names as standard, and separately
note that some are ignored.
On the other hand, just mentioning ignored variables at the front
of the function body is also unacceptable.  I want a way to say EXPLICITLY
thast a variable is ignored, and get a warning message from the compiler
if the variable is in fact used!  Also, if I depend on the front-of-
lambda-body technique to suppress unused-variable warnings, then I invite
"unused value" warnings (which the compiler ought also to generate
for situations such as (PROGN FOO (SETQ X Y)) and (PROGN (CONS A B) ...)).

I think there is much to be sadi for some kind of explicit declaration
of ignoring.  IOt allows better error-checking in the compiler, makes
more clear what is going on, and even allows for error-checking
in the interpreter, which could recognize the declarations (either
(DECLARE (IGNORE ...)) or &IGNORE or whatever) and bind the variable
in question to the unbound value.

Date: 12 August 1980 07:57-EDT
From: Howard I. Cannon <HIC at MIT-MC>
Subject:  Other menu
To: MOON at MIT-MC
cc: BUG-LISPM at MIT-MC, CPR at MIT-AI

I think it should be flushed in principle, but there are some useful things
like "Reset", that don't really want to go in the main menu.  I'll leave
it up to you.


Date: 11 AUG 1980 2302-EDT
From: rg at MIT-AI (Richard Greenblatt)
CC: (BUG LISPM) at MIT-AI

RE:  SOURCE FILES IN DIFFERENT DIRECTORIES FROM QFASL FILES
  I PUT IN A FEATURE THAT RECORDS ON THE FILE-GROUP-SYMBOL
THE :UNIQUE-ID OF THE FILE WHICH WAS COMPILED TO PRODUCE THE
QFASL FILE WHICH IS CURRENTLY LOADED.  THIS IS STORED UNDER
THE QFASL-SOURCE-FILE-UNIQUE-ID PROPERTY.
  THE MAIN PURPOSE IS SIMPLY TO KNOW EXACTLY WHAT SOURCE FILE
GAVE RISE TO THE LOADED QFASL FILE.  HOWEVER, AS A SECONDARY
FEATURE, SOMEONE COULD MODIFY ZWEI TO USE THE MACHINE AND DIRECTORY
FROM THIS PROPERTY IF IT EXISTS, RATHER THAN THOSE FROM THE
QFASL FILE.


MOON@MIT-MC 08/11/80 20:37:19
To: CPR at MIT-AI
CC: (BUG LISPM) at MIT-AI
    Date: 10 AUG 1980 1920-EDT
    From: CPR at MIT-AI (Christopher P. Ryland)
    Sent-by: Jis at MIT-AI
    To: (BUG LISPM) at MIT-AI

    In system 36.2, with microcode 683, on LISP Machine Ten:
    I wanted to kill a window which wasn't selected, and naively thinking that
    if I used the moused Kill, I could select a window to kill, I did so, only
    to find a somewhat valuable currently-selected window gone.  Argh; it wasn't
    horrible, but it's not parallel with things like Reshape or Move which
    ask you to mouse the window you're talking about.

You must have used the Kill in the Other menu.  The Kill in the Edit Screen
menu of course works the same as the other operations in the same menu.
Would anyone object if the kill in the Other menu was flushed?  In fact
would anyone object if that whole menu was flushed and the one or two
useful operations were moved into the main menu?

Date: 11 AUG 1980 0554-EDT
From: klotz at MIT-AI (Leigh L. Klotz Jr.)
To: (BUG LISPM) at MIT-AI

In system 36.2, with microcode 683, on LISP Machine Six:

The first time you get a ZMACS up the page has what happened during the boot on
it: There is the disk label, and then the selection of the initial-lisp-listener 
displayed on top of the ZMACS buffer. Typing <clear screen> makes it go away.


Date: 11 AUG 1980 0028-EDT
From: SHIPMN at MIT-AI (David W. Shipman)
To: (BUG LISPM) at MIT-AI

In system 36.2 spire, with microcode 683, on LISP Machine Twelve:

In PKG-LOAD the :NOCONFIRM option doesn't apply to the compilation. This is because
DON'T-ASK-FOR-CONFIRMATION is explicitly not being passed to COMPILE-FILE-ALIST. Is
there a reason for this? I vote that it should get passed.


Date: 10 AUG 1980 1920-EDT
From: CPR at MIT-AI (Christopher P. Ryland)
Sent-by: Jis at MIT-AI
To: (BUG LISPM) at MIT-AI

In system 36.2, with microcode 683, on LISP Machine Ten:
I wanted to kill a window which wasn't selected, and naively thinking that
if I used the moused Kill, I could select a window to kill, I did so, only
to find a somewhat valuable currently-selected window gone.  Argh; it wasn't
horrible, but it's not parallel with things like Reshape or Move which
ask you to mouse the window you're talking about.


Date: 10 AUG 1980 1643-EDT
From: Jis at MIT-AI (Jeffrey I. Schiller)
To: (BUG LISPM) at MIT-AI

In system 36.2, with microcode 683, on LISP Machine Ten:

Using CALL after a (telnet 'ee t), but before it did any visible window hacking
left the machine wedged in an ARREST state, and, as usual, warm booting didn't
do anything.


Date: 10 Aug 1980 1126-EDT
From: JIS at MIT-EE
Subject: Yes we have no EVAL server, we have no ....
To: Bug-Lispm at MIT-AI
cc: JIS at MIT-EE

Apparently system 36.2 has no EVAL server function by default.
I consider this a loss and a hinderance to my work (APIARY among
other things). I find it convient to be able to use a machine without
having to first walk over to it and type something on its console.
This is especially true when the machine in question is at tech sq
or EE and I am not! 

I am awhere of some present lossage caused by certain unmentionable 
people (who would actually like to be able to SUPDUP into a LISP machine
but that is another argument...). Maybe the right thing is to make
the EVAL server a little more discriminating then the old one was
(like maybe requiring the machine to be "not logged in" or "logged
in" with a flag set indicating this is ok). In any event the total
flushing of the server I consider a loss. As I bring 36.2 over to EE
I will load my own EVAL server (not as broken as the old system one)
and dump it out so I can win in the meantime...

			-Jeff
-------

Date: 10 August 1980 07:13-EDT
From: Daniel L. Weinreb <DLW at MIT-AI>
To: ACW at MIT-AI, BUG-LISPM at MIT-AI

    Date:  9 AUG 1980 1902-EDT
    From: ACW at MIT-AI (Allan C. Wechsler)

    In system 29.95 NWS, with microcode 669, on LISP Machine Eleven:

    I hate to be a noodge, but why does (format t ...) return NIL?
    This is a great inconvenience when writing code like
      (and condition
           (format t "Yes, it is true.")
           (do-this)
           (do-that) 
             ... )

       ---Wechsler

For the record, I don't want FORMAT changed.  I disliked this reasoning
when it was applied in Maclisp to PRINT and friends, also.  The above
programming style is really poor, and I don't think we should alter the
system to encourage it.  I currently feel that the use of AND and OR
as cheapo conditionals is not stylistically desirable; the above example
calls for COND, not AND.

Date: 10 AUG 1980 0427-EDT
From: MOON at MIT-AI (David A. Moon)
To: (BUG LISPM) at MIT-AI

System 36.2 and microcode 683 are installed on CADR's 4, 6, 9, and 12.
If no important bugs show up they should be installed on the remaining
cadrs.

Date:  9 AUG 1980 1902-EDT
From: ACW at MIT-AI (Allan C. Wechsler)
To: (BUG LISPM) at MIT-AI

In system 29.95 NWS, with microcode 669, on LISP Machine Eleven:

I hate to be a noodge, but why does (format t ...) return NIL?
This is a great inconvenience when writing code like
  (and condition
       (format t "Yes, it is true.")
       (do-this)
       (do-that) 
         ... )

   ---Wechsler


Date:  8 AUG 1980 1313-EDT
From: Nis at MIT-AI (H. Keith Nishihara)
To: (BUG LISPM) at MIT-AI

it seems that the nwatch in the wholine looses several minutes an hour
so that after working a day its slow by about 20 minutes .. 
this behavior seemed to start around the same time system 30 appeared
-- keith


Date:  8 AUG 1980 0842-EDT
From: jim at MIT-AI (James E. O'Dell)
To: (BUG LISPM) at MIT-AI

I would have sworn that RG hacked the compiler to put the correct thing
on the SOURCE-FILE-NAME propery. But now when I (pkg-load 'compiler)
in system 34.1 I get the old behavior, i.e. the compiler assumes that the source
lives in the same directory as the QFASL.

Date: 7 August 1980 23:58-EDT
From: Mike McMahon <MMCM at MIT-AI>
To: ZVONA at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date:  7 AUG 1980 2352-EDT
    From: Zvona at MIT-AI (David Chapman)
    Store-array-leader has no setf property.
It's not supposed to, array-leader is and does.
I.e. (setf (array-leader array index) val) => (store-array-leader val array index)

Date:  7 AUG 1980 2357-EDT
From: Zvona at MIT-AI (David Chapman)
To: (BUG LISPM) at MIT-AI

In system 32.2, with microcode 674, on LISP Machine Five:
Sorry, i meant array-active-length. but possibly this is ambigous incase there is no fill 
pointer.

Date:  7 AUG 1980 2352-EDT
From: Zvona at MIT-AI (David Chapman)
To: (BUG LISPM) at MIT-AI

In system 32.2, with microcode 674, on LISP Machine Five:
Store-array-leader has no setf property.

Date:  7 AUG 1980 2203-EDT
From: SHIPMN at MIT-AI (David W. Shipman)
To: (BUG LISPM) at MIT-AI


; Two bugs in floating-underflow (system 43.1) ...


; this gets an error message claiming too many arguments to *CATCH and then gets into
; a loop trying to print out the args. Must be warm-booted.
; this must be compiled to lose.
(defun bad ()
  (let-globally ((zunderflow t))
     (// -1s-19 2.)))


; this gets an error message claiming 0s0 was called as a function
(defun also-bad ()
  (setq zunderflow t)
  (print (// -1s-19 2)))

MOON@MIT-MC 08/07/80 18:02:13
To: RICH at MIT-AI
CC: (BUG LISPM) at MIT-AI
ARGS and ALL are in the global package because of RETAIN-VARIABLE-NAMES-SWITCH;
there doesn't appear to be any other reason.  The values for that switch, which
probably no one uses any more, could be changed to be colon keywords.  The problem
is that removing any symbol from the global package requires recompiling any
qfasl file that uses it as a colon keyword.  Perhaps we should do it.

ARGS is a system function and a property name in Maclisp, but I guess we don't
intend ever to support either of those uses, which would otherwise be reasons
to keep it global.

Date:  7 AUG 1980 1627-EDT
From: SHIPMN at MIT-AI (David W. Shipman)
To: (BUG LISPM) at MIT-AI

Do a (print-disk-label) on cadr-12. Notice that it shows free-space and overlap which is
not really there. Somewhere in (si:edit-disk-label) it should sort the partitions by
start address so that this doesn't happen.


Date: 7 August 1980 15:41-EDT
From: Howard I. Cannon <HIC at MIT-MC>
Subject:  File opening primitives
To: JLK at MIT-MC
cc: BUG-LISPM at MIT-MC

I heartily agree with JLK!!  (Ain't it amazin'??)


JLK@MIT-MC 08/07/80 14:07:57
To: (BUG lispm) at MIT-AI
We had this problem on MC yesterday where a somewhat inexperienced LISPM user
(KLM) wrote some code which opened a file on MC for reading and did interleaved
reading and computing.  While she was debugging, she managed to get about 30
channels going at once which resulted in all of MC's disk channels getting tied
up and MC ground to a halt.  I have since explained to her about UNWIND-PROTECT
but it seems that it is rather a gross loss that this could happen at all.  It
occurred to me that since you almost always want to have a file open for a
limited scope, the preferred primitive should be something like KMP's IOTA or
FILE-BIND or some such (is there such a thing in the LISPM?).  While flushing
OPEN completely would be too radical a step, I would suggest the manual should
be written to encourage file-binding as the normal way of hacking files.


Date:  7 AUG 1980 1104-EDT
From: RICH at MIT-AI (Charles Rich)
To: (BUG LISPM) at MIT-AI

In system 34.1, with microcode 678, on LISP Machine Eight:

The function ARGS is reserved in GLOBAL, but is not defined.


Date:  7 AUG 1980 0942-EDT
From: RICH at MIT-AI (Charles Rich)
To: (BUG LISPM) at MIT-AI

In system 34.1, with microcode 678, on LISP Machine Eight:

If you get an error during the evaluation of a form in the minibuffer
of ZWEI (i.e. Meta-Alt), and then use the control-E (edit) option
in the debugger, the system goes into ARREST and stays there.


Date:  7 AUG 1980 0911-EDT
From: RICH at MIT-AI (Charles Rich)
To: (BUG LISPM) at MIT-AI

In system 34.1, with microcode 678, on LISP Machine Eight:

Trying to document the command Control-Top-E gives an error,
i.e. typing Meta-? Control-Top-E.



Date:  6 AUG 1980 2332-EDT
From: SHIPMN at MIT-AI (David W. Shipman)
To: (BUG LISPM) at MIT-AI

I had set up a floating-underflow condition handler. I called a routine which does a lot of
crunching and gets a lot of floating-underflows. When the underflow resulted from *quo, the
condition handler got called (I had put a (beep) in it); but when the underflow resulted from
*plus, the condition handler did not get called but instead the error handler was called.
I ctl-z'd out of the error handler and called the moby-cruncher again. This time, at the
point where the *plus underflow had previously occurred, the machine seized at pc=03111 with
no decimal points lit. The machine would warm-boot out of this state, but further attempts to
call the moby-cruncher died at the same spot.

1) How is it possible for *plus to get a floating-underflow in the first place?
2) Why didn't my condition handler get called?
3) Why did the machine halt the second time around?

I have since discovered the variable ZUNDERFLOW and have flushed the condition handler, so
this is not an urgent issue.


Date: 6 August 1980 03:59-EDT
From: Howard I. Cannon <HIC at MIT-MC>
Subject:  Ignoring and ignorance
To: MOON at MIT-MC
cc: BUG-LISPM at MIT-MC

I agree with MOON.  There is no need for (DECLARE (IGNORE ...)), and
NIL should not be ignored (in other words, it should be erroneous).


MOON@MIT-MC 08/06/80 03:23:17 Re: Ignoring and ignorance
To: (BUG LISPM) at MIT-MC
Does anyone besides Jonl really believe that using NIL or () as a lambda
variable is a reasonable way to ignore an argument?

Jonl's recent system message claimed that in the Lisp machine interpreter
NIL as a lambda variable caused it to be ignored, but there was a bug
in our compiler that it didn't do that.  The actual situation is that there
is a bug in our interpreter that if you use NIL as a lambda variable it
goies ahead and binds NIL (!!) without giving an error.

Presumably there is no point to this (declare (ignore ...)) declaration;
does anyone think otherwise?  (Given that the convention of mentioning
the variable at the front of the body causes the right thing to happen.)

Date:  5 AUG 1980 1813-EDT
From: rms at MIT-AI (Richard M. Stallman)
Sent-by: GJS at MIT-AI
To: (BUG LISPM) at MIT-AI

I once tried using the save-screen feature of the system menu
and it didn't do what I wanted, because it saved only the
set of exposed windows, and didn't remember the sequence of
unexposed windows on the active list.  I was working with
a set of windows which overlapped, and I wanted to switch
back to that set, with the previously exposed windows re-exposed,
and the previously unexposed windows made high on the active
list so that at least parts of them would be visible, as before,
and I could switch to them easily.

Maybe this has been fixed already, but if not, I think that
saving the screen configuration should save the entire active
list.  Restoration should put those windows on the front
of the active list, followed by any other windows which were
on the active list before restoration but were not there
when the configuration was saved.

Or have two ways of saving, one to save only the exposed windows,
and one to save all the active ones.

MOON@MIT-MC 08/04/80 23:49:42 Re: Disk errors
To: info-lispm at MIT-AI
If you have a sufficiently-recent system disk errors are logged and you can
print out this log, either from the machine itself if it is up or from another
machine over the debugging interface if it has died with fatal disk errors.
The functions for this are respectively SI:PRINT-DISK-ERROR-LOG and
CADR:CC-PRINT-DISK-ERROR-LOG.  If you get screwed by fatal disk errors,
you should mail a bug-report to CADR including the machine it happened on
and the output from one of these functions.

The logging has existed for a long time but the functions for printing the log
probably only appeared in 32.3 or thereabouts.

Date:  4 AUG 1980 2104-EDT
From: Moon at MIT-AI (David A. Moon)
Subject: New cold-load generator installed
To: (BUG LISPM) at MIT-AI

I have installed a new cold-load generator which runs on the Lisp machine,
and banished the old one to the LISPM1; directory.

To run it, load the file LISPM;COLDPK, do (PKG-LOAD 'COLD), then do
(COLD:MAKE-COLD "band") where band is the name (e.g. "LOD2") of the
band on your local disk on which to build the cold-load.  You will 
be asked to confirm.  When MAKE-COLD comes back, you can DISK-RESTORE
from that band, or make it and the appropriate microcode current and
cold-boot.  Once the fresh cold-load starts up, the procedure with
QLD is the same from then on.

The same system format definitions files, QCOM, QDEFS, and DEFMIC are used
as before.

Date:  4 AUG 1980 2051-EDT
From: JERRYB at MIT-AI (Gerald R. Barber)
Subject:  APPEND Documentation
To: (BUG LISPM) at MIT-AI


The documentation for APPEND should be more explicity about the fact that the
last argument is not copied.  In fact, the coded example for the general case
does copy the last argument.

Date:  4 AUG 1980 1650-EDT
From: MOON at MIT-MC (David A. Moon)
Subject: BOOLE of one (i.e. two) argument
To: GLS at MIT-AI
CC: (BUG LISP) at MIT-MC, (BUG LISPM) at MIT-AI

    Date:  4 AUG 1980 1457-EDT
    From: GLS at MIT-AI (Guy L. Steele, Jr.)
    Subject: BOOLE of one (i.e. two) argument
    To: (BUG lisp) at MIT-MC
    CC: (BUG LISPM) at MIT-AI, GLS at MIT-AI

    I argue that (BOOLE 10 X) should in fact return X, not (LOGNOT X).
It already does, in both Lisp machine and Maclisp.  Does this mean
there is some incorrect documentation somewhere?

Date: 4 August 1980 15:49-EDT
From: Mike McMahon <MMcM at MIT-AI>
Sender: MMcM at CADR2 at MIT-AI
To: GLS at MIT-AI
cc: BUG-LISPM at MIT-AI

BOOLE of two arguments is indeed the identity on the LISP machine,
because of the straightforward way in which it is implemented for an
arbitrary number of arguments.

Date:  4 AUG 1980 1457-EDT
From: GLS at MIT-AI (Guy L. Steele, Jr.)
Subject: BOOLE of one (i.e. two) argument
To: (BUG lisp) at MIT-MC
CC: (BUG LISPM) at MIT-AI, GLS at MIT-AI

I argue that (BOOLE 10 X) should in fact return X, not (LOGNOT X).
The reasoning is that for these multiple-argument operators
like BOOLE, PLUS, TIMES, MAX, and so on, we want the following
property to hold:
	(OP (OP x1 x2 ... xj) xj+1 ... xn)
	= (OP x1 x2 ... xj xj+1 ... xn)
for as many j and n as possible.  Indeed, for j=2 this is how
these operations are implemented.
Now if you let j=1 you can see that the result of (OP x) should be x,
and for j=0 the result of (OP) should be the identity operation for
OP if it has one (this is why (PLUS)=0 and (TIMES)=1).
To avoid problems BOOLE requires at least one real argument (in addition
to the opreator number), because some operator numbers have identities
and others do not.
Now I suppose that one could argue that (BOOLE 10 X) = (LOGNOT X)
by analogy with (- x) = (MINUS x), but that is after all
a crock special case allowed because the single-argument
case is otherwise "useless".  However, I think the above-cited
property is useful enough to warrant the (BOOLE 10 X)=X.

Date: 3 August 1980 23:18-EDT
From: Howard I. Cannon <HIC at MIT-MC>
To: SMATT at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 3 August 1980 18:47-EDT
    From: Matt BenDaniel <SMATT at MIT-AI>
    To:   BUG-LISPM at MIT-AI

    In system 34.1, with microcode 678, on LISP Machine Six:

    What happened to the "screen-buffer-pixel-array" function?
As you discovered, it no longer exists.  The correct replacement
depends upon exactly what you are doing.  Can you give more details?


Date:  3 AUG 1980 2224-EDT
From: ACW at MIT-AI (Allan C. Wechsler)
Subject:  Strange psychological phenomenon
To: INFO-LISPM at MIT-AI


At first, when unused to BOLIO, I found the font specification
sequences disconcerting: it was hard for me to read unboliized
(unboliated?) text, partly because of the random 3's and *'s
scattered throughout.

Suddenly I have become acclimatized.  And behold, here in
an editor buffer displayed in spartan Cptfont, text enclosed
by 2 and * began to appear italicized, and text enclosed by
3 and * began to appear in boldface.  This happened only
when I wasn't thinking about it.  Has anyone else noticed this
weird adjustment?

   ---Wechsler


Date:  3 AUG 1980 1847-EDT
From: SMATT at MIT-AI (Matt BenDaniel)
To: (BUG LISPM) at MIT-AI

In system 34.1, with microcode 678, on LISP Machine Six:

What happened to the "screen-buffer-pixel-array" function?


Date:  1 AUG 1980 1708-EDT
From: MMcM at MIT-AI (Mike McMahon)
To: (BUG LISPM) at MIT-AI

In system 34.1, with microcode 678, on LISP Machine Two:

Doing a :RENAME on an input stream and then reading some more from it
causes the who-line to have the IOR of the two names in it.

JIM@MIT-MC 08/01/80 12:16:00
To: (BUG LISPM) at MIT-MC
I don't even care how to think I got those last two BIGNUMs but I'm pretty
sure that this case loses.

;;; -*- package:user ; ibase:8. ; base:8 -*-
;;; I have tried loading this file into a Cold-booted LISPM 
;;; (cadr-1, System 34.1, Micro-Code 678)

(setq first_num -13632207225355633337553675402343113760)
(setq  second_num 2470889258789062500.)
(\ first_num second_num)
(\ (abs first_num) second_num)


;;; I don't know where this came from anymore.........
;(setq base 10. ibase 10.)
;(setq erroneous_bug_1 -1914869973288837242889404296875000.)	
;(setq erroneous_bug_2 1235444629394531250.)
;(\ erroneous_bug_1 erroneous_bug_2)
;(\ (abs erroneous_bug_1) (abs erroneous_bug_2)) 


Date: 31 JUL 1980 1330-EDT
From: JLK at MIT-AI (John L. Kulp)
To: (BUG LISPM) at MIT-AI

In system 32.2, with microcode 674, on LISP Machine Seven:
Connecting to the Dover with the PRESS facilities no longer works.  It always gives
an error that it received a LOS packet saying "you are not connected to the DOver".

On the up side, DIRED now works much better in recovering from file system errors...


MOON@MIT-MC (Sent by MOON0@MIT-MC) 07/30/80 16:57:14
To: JIM at MIT-MC
CC: (BUG LISPM) at MIT-MC
    Date: 30 July 1980 11:37-EDT
    From: James E. O'Dell <JIM at MIT-MC>
    To: jim at MIT-AI, BUG-LISPM at MIT-AI

        Date: 30 JUL 1980 0814-EDT
        From: jim at MIT-AI (James E. O'Dell)

        In system 32.2 microcode 674 on CADR-1
        In Input base 10.
        (setq first_num -1914869973288837242889404296875000.)
        (setq second_num 1235444629394531250.)
        (\  first_num second_num)

        gives -1, whereas
         
        (/ (abs first_num) (abs second_num))

        gives 0.


    Sorry, the slash should also be a backslash.
Are you sure of your facts?  When I try your numbers (editing them out
of this mail and reading them into a machine, to avoid typos) it returns 0.
Running the same microcode (674).

Date: 30 July 1980 11:37-EDT
From: James E. O'Dell <JIM at MIT-MC>
To: jim at MIT-AI, BUG-LISPM at MIT-AI

    Date: 30 JUL 1980 0814-EDT
    From: jim at MIT-AI (James E. O'Dell)

    In system 32.2 microcode 674 on CADR-1
    In Input base 10.
    (setq first_num -1914869973288837242889404296875000)
    (setq second_num 1235444629394531250)
    (\  first_num second_num)

    gives -1, whereas
     
    (/ (abs first_num) (abs second_num))

    gives 0.


Sorry, the slash should also be a backslash.

Date: 30 JUL 1980 0814-EDT
From: jim at MIT-AI (James E. O'Dell)
To: (BUG LISPM) at MIT-AI

In system 32.2 microcode 674 on CADR-1
In Input base 10.
(setq first_num -1914869973288837242889404296875000)
(setq second_num 1235444629394531250)
(\  first_num second_num)

gives -1, whereas
 
(/ (abs first_num) (abs second_num))

gives 0.

Date: 29 JUL 1980 1909-EDT
From: rg at MIT-AI (Richard Greenblatt)
To: (BUG LISPM) at MIT-AI

  I replaced the disk controller on CADR-9 with DC-14.
The old one was DC-1 which had never had its connector
pins epoxied.   One was pushed out, so that might well
have been causing lossage.
  Hopefully this has fixed the problem.


MOON@MIT-MC 07/29/80 14:17:07 Re: Modifying CPT-SYNC2
To: SHIPMN at MIT-AI
CC: (BUG LISPM) at MIT-AI
That data structure is in a read-only area.  I don't know why you
don't get put into the error handler with a suitable message when
you try to write it; I'll look into that.

Date: 29 JUL 1980 1401-EDT
From: SHIPMN at MIT-AI (David W. Shipman)
To: (BUG LISPM) at MIT-AI

After bringing over version 32.2 to cadr-12 I attempted to modify the
vertical retrace in tv:cpt-sync2 using the inspector. It hung with the
run bar set. I then tried to reset it "by hand" using:

     (setf (nth 8 tv:cpt-sync2) 72.)

The same thing happened. The problem is not in nth, setf, or the inspector
but something about tv:cpt-sync2. The following worked:

     (setq tv:old-cpt-sync2 tv:cpt-sync2)
     (setq tv:cpt-sync2 (copylist tv:cpt-sync2))
     (setf (nth 8 tv:cpt-sync2) 72.)
     (tv:cpt-setup)

That solved the immediate problem, but it was a little wierd.

Date: 29 JUL 1980 0223-EDT
From: Moon at MIT-AI (David A. Moon)
Subject: Fixes to latest round of bugs
To: (BUG LISPM) at MIT-AI

System 32.4 fixes most of the bugs in 32.2 and especially 32.3.  It probably
even works on a machine that has been powered off.  Currently this system
is only on CADR-6, I'll spread it around tomorrow probably.

You can make a 32.3 into a 32.4 by loading the file AI:MOON;LOAD 32.4 then
doing (LOAD-32.4).  Do not do this to a 32.2!  Answer N to the first two
redefinition questions (SPECIAL, UNSPECIAL) and Y to the third (BEEP).

Date: 29 JUL 1980 0022-EDT
From: JPT at MIT-AI (Jean-Pierre Tanaka)
To: (BUG LISPM) at MIT-AI

what alternatives to the standard font are available after mousing
'change default font' on the edit menu?  Is there some devious method of
entering them?

humbly,

jean-pierre tanaka


Date: 28 July 1980 06:13-EDT
From: Daniel L. Weinreb <DLW at MIT-AI>
To: ZVONA at MIT-AI, BUG-LISPM at MIT-AI

Unfortunately, the limit to 100 octal local variable slots is known
about by fields in the Lisp Machine instruction set; it only has six
bits with which to specify which local variable it wants to address.
You might be able to win were the compiler changed to overlap
storage of local variable slots for local variables whose extents are
non-overlapping; however, this would generally make debugging harder,
since it would require more information than is currently availible to
determine, given a slot, which local variable the value therein refers
to (you would have to judge on the basis of the PC for that frame).

The nutshell answer is probably that it is hard to change this limit,
and if you are in any kind of a hurry you should break down your
function into two functions.  I know this is not very satisfactory;
maybe someone at MIT is willing to do the work to fix things up, and
has time.

Date: 28 JUL 1980 0518-EDT
From: Zvona at MIT-AI (David Chapman)
To: (BUG LISPM) at MIT-AI

In system 32.3, with microcode 674, on LISP Machine One:
In compiling a large function, I got barfed at with a message to the effect that
COMPILER:ASSIGN-LAP-ADDRESSES was barfing because I had more than 100 local variables.
In fact there were 107 (octal.) I suggest that this parameter be boosted and that 
the error be made procedable.

Date: 28 JUL 1980 0103-EDT
From: Moon at MIT-AI (David A. Moon)
To: (BUG LISPM) at MIT-AI

In system 32.2, with microcode 674, on LISP Machine Nine:

Getting a qsend while in Telnet, or otherwise causing a KBD-SNARF-INPUT,
gets an error with SUPDUP:ECHO-FLAG unbound because the io-buffer input
function (the :translate-char method) references this variable free
but can get called in a random process.

Date: 28 JUL 1980 0002-EDT
From: CLEMW at MIT-AI (Clement Wang)
To: (BUG LISPM) at MIT-AI

In system 32.3, with microcode 674, on LISP Machine One:
(length 'atom) gives some sort of error (wrong type of args, I think)
whereas in the manual (pg 41), it is defined as:

(defun length (x)
	(cond ((atom x) 0)
	      ((1+ (length (cdr x))))))

CLEMW

MOON@MIT-MC 07/27/80 22:09:40 Re: LOOP
To: Zvona at MIT-AI
CC: (BUG lispm) at MIT-AI
    Date: 27 JUL 1980 2143-EDT
    From: Zvona at MIT-AI (David Chapman)
    Subject:  Since you are collecting these...
    To: (BUG LISPM) at MIT-AI

    In system 32.2, with microcode 674, on LISP Machine Four:
    The symbol LOOP is in GLOBAL: gratuitously.
The symbol LOOP is in the GLOBAL package deliberately, for an iteration
macro which is not yet installed but probably will be.

Date: 27 JUL 1980 2143-EDT
From: Zvona at MIT-AI (David Chapman)
Subject:  Since you are collecting these...
To: (BUG LISPM) at MIT-AI

In system 32.2, with microcode 674, on LISP Machine Four:
The symbol LOOP is in GLOBAL: gratuitously.

Date: 27 JUL 1980 1402-EDT
From: rg at MIT-AI (Richard Greenblatt)
To: (BUG LISPM) at MIT-AI

  Main memory parity errors encountered on some machines
on the cold boot after a power up can be caused by references to the
CPT video buffer before the sync program is loaded.
The new version of LISPM;LTOP sets up the CPT sync at an earlier stage
to attempt to prevent this.
  This has eliminated the problem in the cases I have observed,
however, it is still possible for the microcode to make a few
references trying to hack the disk run-bar, etc.
  If such parity errors are noted after loading the latest version of LTOP,
please report them.

Date: 26 JUL 1980 2121-EDT
From: MMcM at MIT-AI (Mike McMahon)
To: (BUG LISPM) at MIT-AI

':GET ':QFASLP does not work on streams opened in ASCII mode, just
:FIXNUM or :PROBE.  Perhaps someone thinks this is a feature, but what i
want to do is open a file assuming it is text, and then if it is
determined to be compiled after all find the source for the qfasl and
load that instead.  Currently there is no way to do this without another
OPEN call.

Date: 26 JUL 1980 1653-EDT
From: DHD at MIT-AI (David Hodgson Dennis)
Subject:  Is this worth reporting?
To: (BUG LISPM) at MIT-AI
CC: DHD at MIT-AI

On Cadr-5, System 32.2:

(describe fonts:cptfont)
#<FONT CPTFONT 756705> is a FONT
   FONT-FILL-POINTER:            0
   NAMED-STRUCTURE-SYMBOL:       FONT
   FONT-NAME:                    CPTFONT
   FONT-CHAR-HEIGHT:             14
   FONT-CHAR-WIDTH:              10
   FONT-RASTER-HEIGHT:           14
   FONT-RASTER-WIDTH:            7
   FONT-RASTERS-PER-WORD:        4
   FONT-WORDS-PER-CHAR:          3
   FONT-BASELINE:                12
   FONT-CHAR-WIDTH-TABLE:        NIL
   FONT-LEFT-KERN-TABLE:         NIL
   FONT-INDEXING-TABLE:          NIL
   FONT-NEXT-PLANE:              NIL
   FONT-BLINKER-WIDTH:           7
   FONT-BLINKER-HEIGHT:          14

>>>>TRAP 5673 (SUBSCRIPT-OOB M-Q RMD XFLAD1-A) ->  ARRAY-LEADER 
The subscript, 20, was beyond the length, 20, in ARRAY-LEADER
While in the function ARRAY-LEADER  (SUBST (SI:Z) (ARRAY-LEADER SI:Z 20))  SI:*EVAL

ARRAY-LEADER:
   Arg 0 (ARRAY): TYO
   Arg 1 (INDEX): 40
z
* 


Date: 26 JUL 1980 0408-EDT
From: DLW at MIT-AI (Daniel L. Weinreb)
To: (BUG LISPM) at MIT-AI

It is too bad that the same system has functions called MAKE-ARRAY and
WINDOW-CREATE.  Similarly, Zwei has both "Display Font" and "Package
Set".  This inconsistency with noun-verb order really made things hard
for me to remember today while giving an extensive demo, and I'm sure
this means that our less experienced users have this problem too.  A
gross rename may really be called for; the current situation is crufty.

Date: 25 JUL 1980 1712-EDT
From: BAK at MIT-AI (William A. Kornfeld)
Subject:  ``Caveat Utilitor''
To: (BUG LISPM) at MIT-AI

Response to DLW's recent message to INFO-ZWEI:

     I would like to point out to all ZWEI users that this is the sort of
     bug you should expect to get if you start redefining things like
     KILL-BUFFER; that is, if you redefine things that are part of the set
     of primitive manipulations of editor data structures.  This is the Lisp
     Machine and so you are free to do what you want, but we do not
     guarantee that anything will work if you play with internals of the
     editor, and it is a bit annoying trying to act upon bugs that were
     really caused by such changes.  Please be careful.

While I certainly agree that users have to be responsible for their own
modifications to installed functions, I think it should also be
recognized that users have legitimate reasons for wanting to tailor
software to their own needs; and that the Lisp machine could do a bit
more to accomodate this than is currently done.  The problem is, of
course, that when an installed function has been replaced with a
variant, and then that installed function changes in later systems,
there is no easy way for a user to discover this.  I'd like to propose a
simple scheme that I've been thinking about for a while that is painless
and can keep users informed automatically of changes to specific
installed functions in future systems.

On the property list of (most or all) system-installed functions is an
OFFICIAL-VERSION-HASH property, an SXHASH of the EXPR code for the
particular function.  The property can be added with a minimum of work
by the compiler.  Users record the hash of the official version they are
replacing in their own files along with the replacement.  This could be
done conveniently by hand in the source code, or automatically if
someone sees a good way how.  In the user's source code would be
something like:

(OFFICIAL-VERSION-REPLACED 'ZWEI:KILL-BUFFER 12345678.)
(DEFUN ZWEI:KILL-BUFFER (...

with OFFICIAL-VERSION-REPLACED defined to check the hash property of the
currently installed version and compare it with the argument.  If they
differ an appropriate warning message is printed (possibly also giving
the source file for the official version).  Users then have the
opportunity to examine the official version and modify their own
versions appropriately.  When they are satisfied, the hash value in the
source can be updated to the hash of the then-official version.


MOON@MIT-MC 07/24/80 20:29:49
To: JERRYB at MIT-MC
CC: (BUG LISPM) at MIT-MC
    JERRYB@MIT-MC 07/24/80 17:03:45
    To: (BUG LISPM) at MIT-MC

    The editor insists on trying to get to ai to mail things (even if one logs in
    and specifies mc).  The result seems to be that no mail can be sent if AI is
    down. 
I fixed LOGIN to setq SI:FILE-DSK-DEVICE-NAME as everyone thought it did.
In the meantime you can set it yourself manually if you want.

Date: 24 July 1980 19:59-EDT
From: Mike McMahon <MMcM at MIT-AI>
Sender: MMcM at CADR6 at MIT-AI
To: JERRYB at MIT-MC
cc: BUG-LISPM at MIT-AI

    JERRYB@MIT-MC 07/24/80 17:03:45
    The editor insists on trying to get to ai to mail things (even if one logs in
    and specifies mc).  The result seems to be that no mail can be sent if AI is
    down. 
No, it writes to DSK: .MAIL.; MAIL >, so you have done something in the
interim to convince the file system to use AI.

JERRYB@MIT-MC 07/24/80 17:03:45
To: (BUG LISPM) at MIT-MC

The editor insists on trying to get to ai to mail things (even if one logs in
and specifies mc).  The result seems to be that no mail can be sent if AI is
down. 

